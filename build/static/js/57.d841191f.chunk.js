(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[57],{739:function(e,t,a){"use strict";a.r(t);var r=a(7),i=a(5),s=a(1),n=a(67),l=a(11),o=a(33),c=a(47),d=a(13),h=a(300),u=a(245),m=a(174),p=a(728),b=a(702),j=a(41),g=a(332),x=a(66),v=a(21),O=a(2),f=Object(i.a)(g.TextValidator)((function(){return{width:"100%",marginBottom:"16px"}})),q=function(){var e=Object(v.e)();console.log(e.state.hospital);var t=Object(s.useState)({date:new Date}),a=Object(d.a)(t,2),i=a[0],n=a[1],q=Object(s.useState)(!1),S=Object(d.a)(q,2),w=S[0],y=S[1],C=Object(v.f)();function _(e,t){"clickaway"!==t&&y(!1)}var k=function(){var t=Object(c.a)(Object(o.a)().mark((function t(a){var r,i,s,n,l,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=window.localStorage.getItem("accessToken"),console.log("accessToken: "+r),i="/hospital/"+e.state.hospital._id,t.next=6,x.a.patch(i,{name:a.target.hospitalName.value,phone:a.target.mobile.value,email:a.target.email.value,address:a.target.address.value,registration_no:a.target.registration.value,tax_no:a.target.tax.value,client_id:"",created_date:e.state.hospital.created_date,updated_at:new Date,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 6:s=t.sent,n=s.data,l=n.status,c=n.hospitals,console.log("hospitals: "+c),"success"===l&&C("/netcare/admin/hospital"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("error: "+t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),L=function(e){e.persist(),n(Object(l.a)(Object(l.a)({},i),{},Object(r.a)({},e.target.name,e.target.value)))},N=i.hospitalName,M=void 0===N?e.state.hospital.name:N,T=i.mobile,D=void 0===T?e.state.hospital.phone:T,E=i.registration,H=void 0===E?e.state.hospital.registration_no:E,z=i.tax,A=void 0===z?e.state.hospital.tax_no:z,B=i.address,F=void 0===B?e.state.hospital.address:B,J=i.email,V=void 0===J?e.state.hospital.email:J;return Object(O.jsxs)("div",{children:[Object(O.jsxs)(g.ValidatorForm,{onSubmit:k,onError:function(){return null},children:[Object(O.jsxs)(h.a,{container:!0,spacing:6,children:[Object(O.jsxs)(h.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(O.jsx)(f,{type:"text",name:"hospitalName",label:"Hospital Name",onChange:L,value:M||"",validators:["required","minStringLength:1","maxStringLength: 100"],errorMessages:["this field is required","this field requires 100 characters","this field requires 100 characters"]}),Object(O.jsx)(f,{type:"email",name:"email",label:"Email",value:V||"",onChange:L,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]}),Object(O.jsx)(f,{type:"text",name:"address",label:"Address",onChange:L,value:F||"",errorMessages:["this field is required","this field requires 40 characters","this field requires 40 characters"],validators:["required","minStringLength:1","maxStringLength: 40"]})]}),Object(O.jsxs)(h.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(O.jsx)(f,{type:"text",name:"mobile",value:D||"",label:"Mobile Number",onChange:L,validators:["required"],errorMessages:["this field is required"]}),Object(O.jsx)(f,{type:"text",name:"registration",value:H||"",label:"Registration Number",onChange:L,validators:["required","minStringLength:1","maxStringLength: 20"],errorMessages:["this field is required","this field requires 20 characters","this field requires 20 characters"]}),Object(O.jsx)(f,{type:"text",name:"tax",value:A||"",label:"Tax Number",onChange:L,validators:["required","minStringLength:1","maxStringLength: 10"],errorMessages:["this field is required","this field requires 10 characters","this field requires 10 characters"]})]})]}),Object(O.jsxs)(u.a,{color:"primary",variant:"contained",type:"submit",children:[Object(O.jsx)(m.a,{children:"send"}),Object(O.jsx)(j.i,{sx:{pl:1,textTransform:"capitalize"},children:"Submit"})]})]}),Object(O.jsx)(p.a,{open:w,autoHideDuration:6e3,onClose:_,children:Object(O.jsx)(b.a,{onClose:_,severity:"success",sx:{width:"100%"},variant:"filled",children:"Hospital details have been updated success!"})})]})},S=Object(i.a)("div")((function(e){var t=e.theme;return Object(r.a)({margin:"30px"},t.breakpoints.down("sm"),{margin:"16px"})}));t.default=function(){return Object(O.jsx)(s.Fragment,{children:Object(O.jsx)(S,{className:"hospital-edit-form",children:Object(O.jsx)(n.l,{title:"Edit Hospital Details",children:Object(O.jsx)(q,{})})})})}}}]);