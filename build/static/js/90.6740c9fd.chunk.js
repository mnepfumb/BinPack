(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[90],{692:function(e,a,r){"use strict";r.r(a);var t=r(33),s=r(47),n=r(13),i=r(761),c=r(252),o=r(300),l=r(268),d=r(411),u=r(119),m=r(173),b=r(59),p=r(41),h=r(128),j=r(496),x=r(1),O=r(21),g=r(37),f=r(497),w=r(66),v=r(2),y=Object(u.a)(m.a)((function(){return{display:"flex",alignItems:"center"}})),k=Object(u.a)(y)((function(){return{justifyContent:"center"}})),C=Object(u.a)(m.a)((function(){return{height:"100%",padding:"32px",position:"relative",background:"rgba(0, 0, 0, 0.01)"}})),B=Object(u.a)(k)((function(){return{background:"#1A2038",minHeight:"100% !important","& .card":{maxWidth:800,minHeight:400,margin:"1rem",display:"flex",borderRadius:12,alignItems:"center"}}})),S={email:"",password:"",remember:!0},T=f.a().shape({password:f.b().min(6,"Password must be 6 character length").required("Password is required!"),email:f.b().email("Invalid Email address").required("Email is required!")});a.default=function(){var e=Object(b.a)(),a=Object(O.f)(),r=Object(x.useState)(!1),u=Object(n.a)(r,2),m=u[0],f=u[1],q=Object(h.a)().login,P=function(){var e=Object(s.a)(Object(t.a)().mark((function e(a,r){var s;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/auth",{email:a,password:r});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(Object(t.a)().mark((function e(r){var s,n,i;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,P(r.email,r.password);case 4:return s=e.sent,n=s.accessToken,i=s.user,console.log("accessToken: "+n+" user: "+i),e.next=9,q(n,i);case 9:"admin"===i.role?a("/netcare/admin/dashboard"):"hospital"===i.role?a("/netcare/hospital/dashboard"):"service provider"===i.role?a("/netcare/service_provider/dashboard"):"driver"===i.role&&a("/netcare/driver/dashboard"),f(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),f(!1);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a){return e.apply(this,arguments)}}();return Object(v.jsx)(B,{children:Object(v.jsx)(c.a,{className:"card",children:Object(v.jsxs)(o.a,{container:!0,children:[Object(v.jsx)(o.a,{item:!0,sm:6,xs:12,children:Object(v.jsx)(k,{p:4,height:"100%",sx:{minWidth:320},children:Object(v.jsx)("img",{src:"/assets/images/logo.png",width:"100%",alt:""})})}),Object(v.jsx)(o.a,{item:!0,sm:6,xs:12,children:Object(v.jsxs)(C,{children:[Object(v.jsx)(j.a,{onSubmit:W,initialValues:S,validationSchema:T,children:function(a){var r=a.values,t=a.errors,s=a.touched,n=a.handleChange,c=a.handleBlur,o=a.handleSubmit;return Object(v.jsxs)("form",{onSubmit:o,children:[Object(v.jsx)(l.a,{fullWidth:!0,size:"small",type:"email",name:"email",label:"Email",variant:"outlined",onBlur:c,value:r.email,onChange:n,helperText:s.email&&t.email,error:Boolean(t.email&&s.email),sx:{mb:3}}),Object(v.jsx)(l.a,{fullWidth:!0,size:"small",name:"password",type:"password",label:"Password",variant:"outlined",onBlur:c,value:r.password,onChange:n,helperText:s.password&&t.password,error:Boolean(t.password&&s.password),sx:{mb:1.5}}),Object(v.jsxs)(y,{justifyContent:"space-between",children:[Object(v.jsxs)(y,{gap:1,children:[Object(v.jsx)(d.a,{size:"small",name:"remember",onChange:n,checked:r.remember,sx:{padding:0}}),Object(v.jsx)(p.g,{children:"Remember Me"})]}),Object(v.jsx)(g.c,{to:"/session/forgot-password",style:{color:e.palette.primary.main},children:"Forgot password?"})]}),Object(v.jsx)(i.a,{type:"submit",color:"primary",loading:m,variant:"contained",sx:{my:2},children:"Login"})]})}}),Object(v.jsxs)(y,{justifyContent:"space-between",children:[Object(v.jsx)(p.g,{children:"This Application is powered by BinPack"}),Object(v.jsx)("img",{src:"/assets/images/logo.png",width:"54px",height:"44px",alt:"netcare"})]})]})})]})})})}}}]);