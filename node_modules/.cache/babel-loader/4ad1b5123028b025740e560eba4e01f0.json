{"ast":null,"code":"import _slicedToArray from \"/Users/bluevisionai/Desktop/untitled folder/untitled folder/gitdagray/binpack-16-03-23/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { useRifm } from 'rifm';\nimport { useUtils } from './useUtils';\nimport { createDelegatedEventHandler } from '../utils/utils';\nimport { maskedDateFormatter, getDisplayDate, checkMaskIsValidForCurrentFormat } from '../utils/text-field-helper';\nexport var useMaskedInput = function useMaskedInput(_ref) {\n  var _ref$acceptRegex = _ref.acceptRegex,\n    acceptRegex = _ref$acceptRegex === void 0 ? /[\\d]/gi : _ref$acceptRegex,\n    disabled = _ref.disabled,\n    disableMaskedInput = _ref.disableMaskedInput,\n    ignoreInvalidInputs = _ref.ignoreInvalidInputs,\n    inputFormat = _ref.inputFormat,\n    inputProps = _ref.inputProps,\n    label = _ref.label,\n    mask = _ref.mask,\n    onChange = _ref.onChange,\n    rawValue = _ref.rawValue,\n    readOnly = _ref.readOnly,\n    rifmFormatter = _ref.rifmFormatter,\n    TextFieldProps = _ref.TextFieldProps,\n    validationError = _ref.validationError;\n  var utils = useUtils();\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    isFocused = _React$useState2[0],\n    setIsFocused = _React$useState2[1];\n  var formatHelperText = utils.getFormatHelperText(inputFormat);\n  var shouldUseMaskedInput = React.useMemo(function () {\n    // formatting of dates is a quite slow thing, so do not make useless .format calls\n    if (!mask || disableMaskedInput) {\n      return false;\n    }\n    return checkMaskIsValidForCurrentFormat(mask, inputFormat, acceptRegex, utils);\n  }, [acceptRegex, disableMaskedInput, inputFormat, mask, utils]);\n  var formatter = React.useMemo(function () {\n    return shouldUseMaskedInput && mask ? maskedDateFormatter(mask, acceptRegex) : function (st) {\n      return st;\n    };\n  }, [acceptRegex, mask, shouldUseMaskedInput]); // TODO: Implement with controlled vs uncontrolled `rawValue`\n\n  var currentInputValue = getDisplayDate(utils, rawValue, inputFormat);\n  var _React$useState3 = React.useState(currentInputValue),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    innerInputValue = _React$useState4[0],\n    setInnerInputValue = _React$useState4[1];\n  var previousInputValueRef = React.useRef(currentInputValue);\n  React.useEffect(function () {\n    previousInputValueRef.current = currentInputValue;\n  }, [currentInputValue]);\n  var notTyping = !isFocused;\n  var valueChanged = previousInputValueRef.current !== currentInputValue; // Update the input value only if the value changed outside of typing\n\n  if (notTyping && valueChanged && (rawValue === null || utils.isValid(rawValue))) {\n    if (currentInputValue !== innerInputValue) {\n      setInnerInputValue(currentInputValue);\n    }\n  }\n  var handleChange = function handleChange(text) {\n    var finalString = text === '' || text === mask ? '' : text;\n    setInnerInputValue(finalString);\n    var date = finalString === null ? null : utils.parse(finalString, inputFormat);\n    if (ignoreInvalidInputs && !utils.isValid(date)) {\n      return;\n    }\n    onChange(date, finalString || undefined);\n  };\n  var rifmProps = useRifm({\n    value: innerInputValue,\n    onChange: handleChange,\n    format: rifmFormatter || formatter\n  });\n  var inputStateArgs = shouldUseMaskedInput ? rifmProps : {\n    value: innerInputValue,\n    onChange: function onChange(event) {\n      handleChange(event.currentTarget.value);\n    }\n  };\n  return _extends({\n    label: label,\n    disabled: disabled,\n    error: validationError,\n    inputProps: _extends({}, inputStateArgs, {\n      disabled: disabled,\n      placeholder: formatHelperText,\n      readOnly: readOnly,\n      type: shouldUseMaskedInput ? 'tel' : 'text'\n    }, inputProps, {\n      onFocus: createDelegatedEventHandler(function () {\n        setIsFocused(true);\n      }, inputProps == null ? void 0 : inputProps.onFocus),\n      onBlur: createDelegatedEventHandler(function () {\n        setIsFocused(false);\n      }, inputProps == null ? void 0 : inputProps.onBlur)\n    })\n  }, TextFieldProps);\n};","map":{"version":3,"names":["_extends","React","useRifm","useUtils","createDelegatedEventHandler","maskedDateFormatter","getDisplayDate","checkMaskIsValidForCurrentFormat","useMaskedInput","_ref","_ref$acceptRegex","acceptRegex","disabled","disableMaskedInput","ignoreInvalidInputs","inputFormat","inputProps","label","mask","onChange","rawValue","readOnly","rifmFormatter","TextFieldProps","validationError","utils","_React$useState","useState","_React$useState2","_slicedToArray","isFocused","setIsFocused","formatHelperText","getFormatHelperText","shouldUseMaskedInput","useMemo","formatter","st","currentInputValue","_React$useState3","_React$useState4","innerInputValue","setInnerInputValue","previousInputValueRef","useRef","useEffect","current","notTyping","valueChanged","isValid","handleChange","text","finalString","date","parse","undefined","rifmProps","value","format","inputStateArgs","event","currentTarget","error","placeholder","type","onFocus","onBlur"],"sources":["/Users/bluevisionai/Desktop/untitled folder/untitled folder/gitdagray/binpack-16-03-23/node_modules/@mui/x-date-pickers/internals/hooks/useMaskedInput.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { useRifm } from 'rifm';\nimport { useUtils } from './useUtils';\nimport { createDelegatedEventHandler } from '../utils/utils';\nimport { maskedDateFormatter, getDisplayDate, checkMaskIsValidForCurrentFormat } from '../utils/text-field-helper';\nexport const useMaskedInput = ({\n  acceptRegex = /[\\d]/gi,\n  disabled,\n  disableMaskedInput,\n  ignoreInvalidInputs,\n  inputFormat,\n  inputProps,\n  label,\n  mask,\n  onChange,\n  rawValue,\n  readOnly,\n  rifmFormatter,\n  TextFieldProps,\n  validationError\n}) => {\n  const utils = useUtils();\n  const [isFocused, setIsFocused] = React.useState(false);\n  const formatHelperText = utils.getFormatHelperText(inputFormat);\n  const shouldUseMaskedInput = React.useMemo(() => {\n    // formatting of dates is a quite slow thing, so do not make useless .format calls\n    if (!mask || disableMaskedInput) {\n      return false;\n    }\n\n    return checkMaskIsValidForCurrentFormat(mask, inputFormat, acceptRegex, utils);\n  }, [acceptRegex, disableMaskedInput, inputFormat, mask, utils]);\n  const formatter = React.useMemo(() => shouldUseMaskedInput && mask ? maskedDateFormatter(mask, acceptRegex) : st => st, [acceptRegex, mask, shouldUseMaskedInput]); // TODO: Implement with controlled vs uncontrolled `rawValue`\n\n  const currentInputValue = getDisplayDate(utils, rawValue, inputFormat);\n  const [innerInputValue, setInnerInputValue] = React.useState(currentInputValue);\n  const previousInputValueRef = React.useRef(currentInputValue);\n  React.useEffect(() => {\n    previousInputValueRef.current = currentInputValue;\n  }, [currentInputValue]);\n  const notTyping = !isFocused;\n  const valueChanged = previousInputValueRef.current !== currentInputValue; // Update the input value only if the value changed outside of typing\n\n  if (notTyping && valueChanged && (rawValue === null || utils.isValid(rawValue))) {\n    if (currentInputValue !== innerInputValue) {\n      setInnerInputValue(currentInputValue);\n    }\n  }\n\n  const handleChange = text => {\n    const finalString = text === '' || text === mask ? '' : text;\n    setInnerInputValue(finalString);\n    const date = finalString === null ? null : utils.parse(finalString, inputFormat);\n\n    if (ignoreInvalidInputs && !utils.isValid(date)) {\n      return;\n    }\n\n    onChange(date, finalString || undefined);\n  };\n\n  const rifmProps = useRifm({\n    value: innerInputValue,\n    onChange: handleChange,\n    format: rifmFormatter || formatter\n  });\n  const inputStateArgs = shouldUseMaskedInput ? rifmProps : {\n    value: innerInputValue,\n    onChange: event => {\n      handleChange(event.currentTarget.value);\n    }\n  };\n  return _extends({\n    label,\n    disabled,\n    error: validationError,\n    inputProps: _extends({}, inputStateArgs, {\n      disabled,\n      placeholder: formatHelperText,\n      readOnly,\n      type: shouldUseMaskedInput ? 'tel' : 'text'\n    }, inputProps, {\n      onFocus: createDelegatedEventHandler(() => {\n        setIsFocused(true);\n      }, inputProps == null ? void 0 : inputProps.onFocus),\n      onBlur: createDelegatedEventHandler(() => {\n        setIsFocused(false);\n      }, inputProps == null ? void 0 : inputProps.onBlur)\n    })\n  }, TextFieldProps);\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}