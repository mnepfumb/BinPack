{"ast":null,"code":"import _defineProperty from\"/Users/bluevisionai/Desktop/untitled folder/untitled folder/gitdagray/binpack-16-03-23/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/bluevisionai/Desktop/untitled folder/untitled folder/gitdagray/binpack-16-03-23/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/bluevisionai/Desktop/untitled folder/untitled folder/gitdagray/binpack-16-03-23/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/bluevisionai/Desktop/untitled folder/untitled folder/gitdagray/binpack-16-03-23/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/bluevisionai/Desktop/untitled folder/untitled folder/gitdagray/binpack-16-03-23/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Grid,Icon,styled,Snackbar,Alert}from\"@mui/material\";import{Span}from\"app/components/Typography\";import{useState}from\"react\";import{TextValidator,ValidatorForm}from\"react-material-ui-form-validator\";import axios from'app/api/axios';import{useNavigate,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TextField=styled(TextValidator)(function(){return{width:\"100%\",marginBottom:\"16px\"};});var EditServiceProviderForm=function EditServiceProviderForm(){var location=useLocation();// const company = location.state.company;\nconsole.log(location.state.company);var _useState=useState({date:new Date()}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var navigate=useNavigate();function handleClose(_,reason){if(reason===\"clickaway\"){return;}setOpen(false);}var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var accessToken,url,response,_response$data,status,companies;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;accessToken=window.localStorage.getItem('accessToken');console.log(\"accessToken: \"+accessToken);url='/company/'+location.state.company._id;_context.next=6;return axios.patch(url,{name:event.target.companyName.value,phone:event.target.mobile.value,email:event.target.email.value,address:event.target.address.value,registration_no:event.target.registration.value,tax_no:event.target.tax.value,client_id:'',created_date:location.state.company.created_date,updated_at:new Date(),headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(accessToken)}// withCredentials: true\n});case 6:response=_context.sent;_response$data=response.data,status=_response$data.status,companies=_response$data.companies;console.log(\"companies: \"+companies);if(status==='success'){navigate('/netcare/hospital/service-provider');}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(\"error: \"+_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){event.persist();setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},event.target.name,event.target.value)));};var _state$companyName=state.companyName,companyName=_state$companyName===void 0?location.state.company.name:_state$companyName,_state$mobile=state.mobile,mobile=_state$mobile===void 0?location.state.company.phone:_state$mobile,_state$registration=state.registration,registration=_state$registration===void 0?location.state.company.registration_no:_state$registration,_state$tax=state.tax,tax=_state$tax===void 0?location.state.company.tax_no:_state$tax,_state$address=state.address,address=_state$address===void 0?location.state.company.address:_state$address,_state$email=state.email,email=_state$email===void 0?location.state.company.email:_state$email;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(ValidatorForm,{onSubmit:handleSubmit,onError:function onError(){return null;},children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:6,children:[/*#__PURE__*/_jsxs(Grid,{item:true,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[/*#__PURE__*/_jsx(TextField,{type:\"text\",name:\"companyName\",label:\"Company Name\",onChange:handleChange,value:companyName||\"\",validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 100\"],errorMessages:[\"this field is required\",\"this field requires 100 characters\",\"this field requires 100 characters\"]}),/*#__PURE__*/_jsx(TextField,{type:\"email\",name:\"email\",label:\"Email\",value:email||\"\",onChange:handleChange,validators:[\"required\",\"isEmail\"],errorMessages:[\"this field is required\",\"email is not valid\"]}),/*#__PURE__*/_jsx(TextField,{type:\"text\",name:\"address\",label:\"Address\",onChange:handleChange,value:address||\"\",errorMessages:[\"this field is required\",\"this field requires 40 characters\",\"this field requires 40 characters\"],validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 40\"]})]}),/*#__PURE__*/_jsxs(Grid,{item:true,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[/*#__PURE__*/_jsx(TextField,{type:\"text\",name:\"mobile\",value:mobile||\"\",label:\"Mobile Number\",onChange:handleChange,validators:[\"required\"],errorMessages:[\"this field is required\"]}),/*#__PURE__*/_jsx(TextField,{type:\"text\",name:\"registration\",value:registration||\"\",label:\"Registration Number\",onChange:handleChange,validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 20\"],errorMessages:[\"this field is required\",\"this field requires 20 characters\",\"this field requires 20 characters\"]}),/*#__PURE__*/_jsx(TextField,{type:\"text\",name:\"tax\",value:tax||\"\",label:\"Tax Number\",onChange:handleChange,validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 10\"],errorMessages:[\"this field is required\",\"this field requires 10 characters\",\"this field requires 10 characters\"]})]})]}),/*#__PURE__*/_jsxs(Button,{color:\"primary\",variant:\"contained\",type:\"submit\",children:[/*#__PURE__*/_jsx(Icon,{children:\"send\"}),/*#__PURE__*/_jsx(Span,{sx:{pl:1,textTransform:\"capitalize\"},children:\"Submit\"})]})]}),/*#__PURE__*/_jsx(Snackbar,{open:open,autoHideDuration:6000,onClose:handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"success\",sx:{width:\"100%\"},variant:\"filled\",children:\"Service Provider details have been updated success!\"})})]});};export default EditServiceProviderForm;","map":null,"metadata":{},"sourceType":"module"}