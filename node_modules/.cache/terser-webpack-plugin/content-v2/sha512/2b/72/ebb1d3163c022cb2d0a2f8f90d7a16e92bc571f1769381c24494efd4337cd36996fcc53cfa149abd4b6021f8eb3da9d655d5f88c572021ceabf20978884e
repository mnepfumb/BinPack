{"code":"(this[\"webpackJsonpmatx-react\"]=this[\"webpackJsonpmatx-react\"]||[]).push([[50],{354:function(e,t,n){\"use strict\";n(1);var r=n(2);t.a=function(e){var t=e.bgcolor,n=e.progress,a={height:e.height,width:\"100%\",backgroundColor:\"whitesmoke\",borderRadius:40,margin:50},i={height:\"100%\",width:\"\".concat(n,\"%\"),backgroundColor:t,borderRadius:40,textAlign:\"right\"};return Object(r.jsx)(\"div\",{style:a,children:Object(r.jsx)(\"div\",{style:i,children:Object(r.jsx)(\"span\",{style:{padding:10,color:\"black\",fontWeight:900},children:\"\".concat(n,\"%\")})})})}},745:function(e,t,n){\"use strict\";n.r(t);var r=n(7),a=n(5),i=n(171),s=n(1),c=n(33),o=n(47),l=n(13),j=n(252),d=n(174),p=n(300),u=n(288),m=n(41),h=n(37),x=n(354),b=n(66),g=n(128),f=n(2),O=Object(a.a)(j.a)((function(e){var t=e.theme;return Object(r.a)({display:\"flex\",flexWrap:\"wrap\",alignItems:\"center\",justifyContent:\"space-between\",padding:\"24px !important\",background:t.palette.background.paper},t.breakpoints.down(\"sm\"),{padding:\"16px !important\"})})),v=Object(a.a)(i.a)((function(e){var t=e.theme;return{display:\"flex\",flexWrap:\"wrap\",alignItems:\"center\",\"& small\":{color:t.palette.text.secondary},\"& .icon\":{opacity:.6,fontSize:\"44px\",color:t.palette.primary.main}}})),y=Object(a.a)(\"h6\")((function(e){return{margin:0,marginTop:\"4px\",fontSize:\"14px\",fontWeight:\"500\",color:e.theme.palette.primary.main}})),w=Object(a.a)(\"span\")((function(){return{fontSize:\"1rem\",fontWeight:\"500\",marginRight:\".5rem\",textTransform:\"capitalize\"}})),k=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(g.a)().user,j=[],k=function(){var e=Object(o.a)(Object(c.a)().mark((function e(){var t,n,i,s,o,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.localStorage.getItem(\"accessToken\"),console.log(\"user.email: \"+a.id),n=\"/requisition/hospital?driver_id=\"+a.id,e.next=6,b.a.get(n,{headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)}});case 6:i=e.sent,s=i.data,o=s.status,l=s.requisitions,console.log(\"requisitions: \"+l),\"success\"===o&&(l.forEach((function(e){console.log(\"user.role: \"+e.status),\"Waste Disposed\"===e.status&&(console.log(\"user: \"+e.name),j.push({requisition:e}))})),r(j)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(\"error: \"+e.t0);case 15:case\"end\":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){k()}),[]);return Object(f.jsx)(p.a,{container:!0,sx:{mb:\"24px\",mt:2},sm:12,style:{gap:15},children:n.map((function(e,t){return Object(f.jsx)(p.a,{requisition:!0,xs:12,md:3,children:Object(f.jsx)(h.b,{state:{requisition:e},to:{pathname:\"/netcare/service_provider/view-completed-requisitions-details\",state:e},children:Object(f.jsxs)(O,{elevation:6,children:[Object(f.jsxs)(v,{children:[Object(f.jsx)(p.a,{item:!0,lg:9,md:8,sm:12,xs:12,sx:{mt:2},children:Object(f.jsx)(w,{children:e.requision_id})}),Object(f.jsx)(p.a,{item:!0,md:2,sm:12,xs:12,sx:{mt:2},children:(n=e.created_date,Math.round((Date.parse(new Date)-Date.parse(n))/864e5)>7?Object(f.jsx)(d.a,{className:\"icon\",style:{color:\"#FF3D57\"},children:\"new_releases\"}):Object(f.jsx)(d.a,{className:\"icon\",style:{color:\"#08ad6c\"},children:\"offline_pin\"}))}),Object(f.jsx)(u.a,{sx:{my:3}}),Object(f.jsxs)(i.a,{ml:\"-5px\",children:[Object(f.jsxs)(m.f,{children:[\"To: \",Object(f.jsx)(\"small\",{children:e.serviceProviderName})]}),Object(f.jsxs)(m.f,{children:[\"WasteType: \",Object(f.jsx)(\"small\",{children:e.wasteType})]}),Object(f.jsxs)(m.f,{children:[\"Requestor: \",Object(f.jsx)(\"small\",{children:e.hospitalName})]}),Object(f.jsxs)(m.f,{children:[\"Colletion Date: \",Object(f.jsx)(\"small\",{children:e.collection_Date})]}),Object(f.jsxs)(y,{children:[\"Status: \",e.status]})]})]}),Object(f.jsx)(i.a,{sx:{display:\"flex\",alignItems:\"center\",width:\"100%\",flexDirection:\"column\",marginTop:-3,marginBottom:-7},children:Object(f.jsx)(x.a,{bgcolor:\"orange\",progress:e.percentage.toString(),height:20})})]})})},t);var n}))})},q=n(120),T=Object(a.a)(\"div\")((function(e){var t=e.theme;return Object(r.a)({margin:\"30px\"},t.breakpoints.down(\"sm\"),{margin:\"16px\"})})),D=Object(a.a)(\"span\")((function(){return{fontSize:\"1rem\",fontWeight:\"500\",marginRight:\".5rem\",textTransform:\"capitalize\"}})),R=Object(a.a)(i.a)((function(){return{display:\"flex\",paddingLeft:\"24px\",paddingRight:\"24px\",marginBottom:\"12px\",alignItems:\"center\",justifyContent:\"space-between\"}}));t.default=function(){return Object(f.jsx)(s.Fragment,{children:Object(f.jsx)(T,{className:\"active-requisitions\",children:Object(f.jsxs)(q.a,{children:[Object(f.jsx)(R,{children:Object(f.jsx)(D,{children:\"Rejected Requisitions\"})}),Object(f.jsx)(k,{})]})})})}}}]);","name":"static/js/50.a4486b60.chunk.js","input":"(this[\"webpackJsonpmatx-react\"] = this[\"webpackJsonpmatx-react\"] || []).push([[50],{\n\n/***/ 354:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\nvar ProgressBar=function ProgressBar(_ref){var bgcolor=_ref.bgcolor,progress=_ref.progress,height=_ref.height;var Parentdiv={height:height,width:'100%',backgroundColor:'whitesmoke',borderRadius:40,margin:50};var Childdiv={height:'100%',width:\"\".concat(progress,\"%\"),backgroundColor:bgcolor,borderRadius:40,textAlign:'right'};var progresstext={padding:10,color:'black',fontWeight:900};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"div\",{style:Parentdiv,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"div\",{style:Childdiv,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"span\",{style:progresstext,children:\"\".concat(progress,\"%\")})})});};/* harmony default export */ __webpack_exports__[\"a\"] = (ProgressBar);\n\n/***/ }),\n\n/***/ 745:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js\nvar styled = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Box/Box.js\nvar Box = __webpack_require__(171);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(47);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Card/Card.js + 1 modules\nvar Card = __webpack_require__(252);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Icon/Icon.js + 1 modules\nvar Icon = __webpack_require__(174);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Grid/Grid.js + 2 modules\nvar Grid = __webpack_require__(300);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Divider/Divider.js\nvar Divider = __webpack_require__(288);\n\n// EXTERNAL MODULE: ./src/app/components/Typography.js\nvar Typography = __webpack_require__(41);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/index.js\nvar react_router_dom = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./src/app/pages/ProgressBar.js\nvar ProgressBar = __webpack_require__(354);\n\n// EXTERNAL MODULE: ./src/app/api/axios.js\nvar axios = __webpack_require__(66);\n\n// EXTERNAL MODULE: ./src/app/hooks/useAuth.js\nvar useAuth = __webpack_require__(128);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/app/pages/hospital/RequisitionViews/components/Rejected_Requisitions/RejectedRequisitionsCards.jsx\nvar StyledCard=Object(styled[\"a\" /* default */])(Card[\"a\" /* default */])(function(_ref){var theme=_ref.theme;return Object(defineProperty[\"a\" /* default */])({display:'flex',flexWrap:'wrap',alignItems:'center',justifyContent:'space-between',padding:'24px !important',background:theme.palette.background.paper},theme.breakpoints.down('sm'),{padding:'16px !important'});});var ContentBox=Object(styled[\"a\" /* default */])(Box[\"a\" /* default */])(function(_ref3){var theme=_ref3.theme;return{display:'flex',flexWrap:'wrap',alignItems:'center','& small':{color:theme.palette.text.secondary},'& .icon':{opacity:0.6,fontSize:'44px',color:theme.palette.primary.main}};});var Heading=Object(styled[\"a\" /* default */])('h6')(function(_ref4){var theme=_ref4.theme;return{margin:0,marginTop:'4px',fontSize:'14px',fontWeight:'500',color:theme.palette.primary.main};});var Title=Object(styled[\"a\" /* default */])('span')(function(){return{fontSize:'1rem',fontWeight:'500',marginRight:'.5rem',textTransform:'capitalize'};});var RejectedRequisitionsCards_RejectedRequisitionsCards=function RejectedRequisitionsCards(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),requisitions=_useState2[0],setRequisitions=_useState2[1];var _useAuth=Object(useAuth[\"a\" /* default */])(),user=_useAuth.user;var requisitionlist=[];var fetchRequisitionData=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var accessToken,url,response,_response$data,status,_requisitions;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;accessToken=window.localStorage.getItem('accessToken');console.log('user.email: '+user.id);url='/requisition/hospital?driver_id='+user.id;_context.next=6;return axios[\"a\" /* default */].get(url,{headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(accessToken)}});case 6:response=_context.sent;_response$data=response.data,status=_response$data.status,_requisitions=_response$data.requisitions;console.log('requisitions: '+_requisitions);if(status===\"success\"){_requisitions.forEach(function(requisition){console.log('user.role: '+requisition.status);if(requisition.status==='Waste Disposed'){console.log('user: '+requisition.name);requisitionlist.push({requisition:requisition});}});setRequisitions(requisitionlist);}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log('error: '+_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function fetchRequisitionData(){return _ref5.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){fetchRequisitionData();},[]);var renderAuthIcon=function renderAuthIcon(created_date){var check=true;var days=Math.round((Date.parse(new Date())-Date.parse(created_date))/(1000*60*60*24));if(days>7){check=true;}else{check=false;}if(check){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{className:\"icon\",style:{color:'#FF3D57'},children:\"new_releases\"});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{className:\"icon\",style:{color:'#08ad6c'},children:\"offline_pin\"});}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,sx:{mb:'24px',mt:2},sm:12,style:{gap:15},children:requisitions.map(function(requisition,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{requisition:true,xs:12,md:3,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{state:{requisition:requisition},to:{pathname:'/netcare/service_provider/view-completed-requisitions-details',state:requisition},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(StyledCard,{elevation:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ContentBox,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,lg:9,md:8,sm:12,xs:12,sx:{mt:2},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Title,{children:requisition.requision_id})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,md:2,sm:12,xs:12,sx:{mt:2},children:renderAuthIcon(requisition.created_date)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{sx:{my:3}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{ml:\"-5px\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"f\" /* H6 */],{children:[\"To: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{children:requisition.serviceProviderName})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"f\" /* H6 */],{children:[\"WasteType: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{children:requisition.wasteType})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"f\" /* H6 */],{children:[\"Requestor: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{children:requisition.hospitalName})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"f\" /* H6 */],{children:[\"Colletion Date: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{children:requisition.collection_Date})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Heading,{children:[\"Status: \",requisition.status]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{sx:{display:\"flex\",alignItems:\"center\",width:'100%',flexDirection:\"column\",marginTop:-3,marginBottom:-7},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ProgressBar[\"a\" /* default */],{bgcolor:\"orange\",progress:requisition.percentage.toString(),height:20})})]})})},index);})});};/* harmony default export */ var Rejected_Requisitions_RejectedRequisitionsCards = (RejectedRequisitionsCards_RejectedRequisitionsCards);\n// EXTERNAL MODULE: ./src/app/components/SimpleCard.jsx\nvar SimpleCard = __webpack_require__(120);\n\n// CONCATENATED MODULE: ./src/app/pages/hospital/RequisitionViews/RejectedRequisitions.jsx\nvar RejectedRequisitions_ContentBox=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return Object(defineProperty[\"a\" /* default */])({margin:'30px'},theme.breakpoints.down('sm'),{margin:'16px'});});var RejectedRequisitions_Title=Object(styled[\"a\" /* default */])('span')(function(){return{fontSize:'1rem',fontWeight:'500',marginRight:'.5rem',textTransform:'capitalize'};});var CardHeader=Object(styled[\"a\" /* default */])(Box[\"a\" /* default */])(function(){return{display:'flex',paddingLeft:'24px',paddingRight:'24px',marginBottom:'12px',alignItems:'center',justifyContent:'space-between'};});var RejectedRequisitions_RejectedRequisitions=function RejectedRequisitions(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RejectedRequisitions_ContentBox,{className:\"active-requisitions\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(SimpleCard[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardHeader,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RejectedRequisitions_Title,{children:\"Rejected Requisitions\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Rejected_Requisitions_RejectedRequisitionsCards,{})]})})});};/* harmony default export */ var RequisitionViews_RejectedRequisitions = __webpack_exports__[\"default\"] = (RejectedRequisitions_RejectedRequisitions);\n\n/***/ })\n\n}]);","inputSourceMap":null}