{"code":"(this[\"webpackJsonpmatx-react\"]=this[\"webpackJsonpmatx-react\"]||[]).push([[60],{736:function(e,t,a){\"use strict\";a.r(t);var r=a(7),i=a(5),s=a(1),n=a(67),c=a(11),o=a(33),l=a(47),d=a(13),m=a(300),u=a(245),h=a(174),b=a(728),j=a(702),g=a(41),p=a(332),x=a(66),v=a(21),O=a(2),f=Object(i.a)(p.TextValidator)((function(){return{width:\"100%\",marginBottom:\"16px\"}})),y=function(){var e=Object(v.e)();console.log(e.state.company);var t=Object(s.useState)({date:new Date}),a=Object(d.a)(t,2),i=a[0],n=a[1],y=Object(s.useState)(!1),q=Object(d.a)(y,2),S=q[0],w=q[1],C=Object(v.f)();function _(e,t){\"clickaway\"!==t&&w(!1)}var k=function(){var t=Object(l.a)(Object(o.a)().mark((function t(a){var r,i,s,n,c,l;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=window.localStorage.getItem(\"accessToken\"),console.log(\"accessToken: \"+r),i=\"/company/\"+e.state.company._id,t.next=6,x.a.patch(i,{name:a.target.companyName.value,phone:a.target.mobile.value,email:a.target.email.value,address:a.target.address.value,registration_no:a.target.registration.value,tax_no:a.target.tax.value,client_id:\"\",created_date:e.state.company.created_date,updated_at:new Date,headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(r)}});case 6:s=t.sent,n=s.data,c=n.status,l=n.companies,console.log(\"companies: \"+l),\"success\"===c&&C(\"/netcare/admin/service-provider\"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(\"error: \"+t.t0);case 15:case\"end\":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),L=function(e){e.persist(),n(Object(c.a)(Object(c.a)({},i),{},Object(r.a)({},e.target.name,e.target.value)))},N=i.companyName,M=void 0===N?e.state.company.name:N,T=i.mobile,D=void 0===T?e.state.company.phone:T,E=i.registration,z=void 0===E?e.state.company.registration_no:E,A=i.tax,B=void 0===A?e.state.company.tax_no:A,F=i.address,J=void 0===F?e.state.company.address:F,P=i.email,V=void 0===P?e.state.company.email:P;return Object(O.jsxs)(\"div\",{children:[Object(O.jsxs)(p.ValidatorForm,{onSubmit:k,onError:function(){return null},children:[Object(O.jsxs)(m.a,{container:!0,spacing:6,children:[Object(O.jsxs)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(O.jsx)(f,{type:\"text\",name:\"companyName\",label:\"Company Name\",onChange:L,value:M||\"\",validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 100\"],errorMessages:[\"this field is required\",\"this field requires 100 characters\",\"this field requires 100 characters\"]}),Object(O.jsx)(f,{type:\"email\",name:\"email\",label:\"Email\",value:V||\"\",onChange:L,validators:[\"required\",\"isEmail\"],errorMessages:[\"this field is required\",\"email is not valid\"]}),Object(O.jsx)(f,{type:\"text\",name:\"address\",label:\"Address\",onChange:L,value:J||\"\",errorMessages:[\"this field is required\",\"this field requires 40 characters\",\"this field requires 40 characters\"],validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 40\"]})]}),Object(O.jsxs)(m.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(O.jsx)(f,{type:\"text\",name:\"mobile\",value:D||\"\",label:\"Mobile Number\",onChange:L,validators:[\"required\"],errorMessages:[\"this field is required\"]}),Object(O.jsx)(f,{type:\"text\",name:\"registration\",value:z||\"\",label:\"Registration Number\",onChange:L,validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 20\"],errorMessages:[\"this field is required\",\"this field requires 20 characters\",\"this field requires 20 characters\"]}),Object(O.jsx)(f,{type:\"text\",name:\"tax\",value:B||\"\",label:\"Tax Number\",onChange:L,validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 10\"],errorMessages:[\"this field is required\",\"this field requires 10 characters\",\"this field requires 10 characters\"]})]})]}),Object(O.jsxs)(u.a,{color:\"primary\",variant:\"contained\",type:\"submit\",children:[Object(O.jsx)(h.a,{children:\"send\"}),Object(O.jsx)(g.i,{sx:{pl:1,textTransform:\"capitalize\"},children:\"Submit\"})]})]}),Object(O.jsx)(b.a,{open:S,autoHideDuration:6e3,onClose:_,children:Object(O.jsx)(j.a,{onClose:_,severity:\"success\",sx:{width:\"100%\"},variant:\"filled\",children:\"Service Provider details have been updated success!\"})})]})},q=Object(i.a)(\"div\")((function(e){var t=e.theme;return Object(r.a)({margin:\"30px\"},t.breakpoints.down(\"sm\"),{margin:\"16px\"})}));t.default=function(){return Object(O.jsx)(s.Fragment,{children:Object(O.jsx)(q,{className:\"service-provider-edit-form\",children:Object(O.jsx)(n.l,{title:\"Edit Service Provider Details\",children:Object(O.jsx)(y,{})})})})}}}]);","name":"static/js/60.47f0e2da.chunk.js","input":"(this[\"webpackJsonpmatx-react\"] = this[\"webpackJsonpmatx-react\"] || []).push([[60],{\n\n/***/ 736:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js\nvar styled = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./src/app/components/index.js + 18 modules\nvar components = __webpack_require__(67);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(47);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Grid/Grid.js + 2 modules\nvar Grid = __webpack_require__(300);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 2 modules\nvar Button = __webpack_require__(245);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Icon/Icon.js + 1 modules\nvar Icon = __webpack_require__(174);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Snackbar/Snackbar.js + 1 modules\nvar Snackbar = __webpack_require__(728);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Alert/Alert.js + 5 modules\nvar Alert = __webpack_require__(702);\n\n// EXTERNAL MODULE: ./src/app/components/Typography.js\nvar Typography = __webpack_require__(41);\n\n// EXTERNAL MODULE: ./node_modules/react-material-ui-form-validator/lib/index.js\nvar lib = __webpack_require__(332);\n\n// EXTERNAL MODULE: ./src/app/api/axios.js\nvar axios = __webpack_require__(66);\n\n// EXTERNAL MODULE: ./node_modules/react-router/index.js\nvar react_router = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/app/pages/admin/ServiceProviderViews/components/EditServiceProviderForm.jsx\nvar TextField=Object(styled[\"a\" /* default */])(lib[\"TextValidator\"])(function(){return{width:\"100%\",marginBottom:\"16px\"};});var EditServiceProviderForm_EditServiceProviderForm=function EditServiceProviderForm(){var location=Object(react_router[\"e\" /* useLocation */])();// const company = location.state.company;\nconsole.log(location.state.company);var _useState=Object(react[\"useState\"])({date:new Date()}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var navigate=Object(react_router[\"f\" /* useNavigate */])();function handleClose(_,reason){if(reason===\"clickaway\"){return;}setOpen(false);}var handleSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var accessToken,url,response,_response$data,status,companies;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;accessToken=window.localStorage.getItem('accessToken');console.log(\"accessToken: \"+accessToken);url='/company/'+location.state.company._id;_context.next=6;return axios[\"a\" /* default */].patch(url,{name:event.target.companyName.value,phone:event.target.mobile.value,email:event.target.email.value,address:event.target.address.value,registration_no:event.target.registration.value,tax_no:event.target.tax.value,client_id:'',created_date:location.state.company.created_date,updated_at:new Date(),headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(accessToken)}// withCredentials: true\n});case 6:response=_context.sent;_response$data=response.data,status=_response$data.status,companies=_response$data.companies;console.log(\"companies: \"+companies);if(status==='success'){navigate('/netcare/admin/service-provider');}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(\"error: \"+_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){event.persist();setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},Object(defineProperty[\"a\" /* default */])({},event.target.name,event.target.value)));};var _state$companyName=state.companyName,companyName=_state$companyName===void 0?location.state.company.name:_state$companyName,_state$mobile=state.mobile,mobile=_state$mobile===void 0?location.state.company.phone:_state$mobile,_state$registration=state.registration,registration=_state$registration===void 0?location.state.company.registration_no:_state$registration,_state$tax=state.tax,tax=_state$tax===void 0?location.state.company.tax_no:_state$tax,_state$address=state.address,address=_state$address===void 0?location.state.company.address:_state$address,_state$email=state.email,email=_state$email===void 0?location.state.company.email:_state$email;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(lib[\"ValidatorForm\"],{onSubmit:handleSubmit,onError:function onError(){return null;},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,spacing:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField,{type:\"text\",name:\"companyName\",label:\"Company Name\",onChange:handleChange,value:companyName||\"\",validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 100\"],errorMessages:[\"this field is required\",\"this field requires 100 characters\",\"this field requires 100 characters\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField,{type:\"email\",name:\"email\",label:\"Email\",value:email||\"\",onChange:handleChange,validators:[\"required\",\"isEmail\"],errorMessages:[\"this field is required\",\"email is not valid\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField,{type:\"text\",name:\"address\",label:\"Address\",onChange:handleChange,value:address||\"\",errorMessages:[\"this field is required\",\"this field requires 40 characters\",\"this field requires 40 characters\"],validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 40\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField,{type:\"text\",name:\"mobile\",value:mobile||\"\",label:\"Mobile Number\",onChange:handleChange,validators:[\"required\"],errorMessages:[\"this field is required\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField,{type:\"text\",name:\"registration\",value:registration||\"\",label:\"Registration Number\",onChange:handleChange,validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 20\"],errorMessages:[\"this field is required\",\"this field requires 20 characters\",\"this field requires 20 characters\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField,{type:\"text\",name:\"tax\",value:tax||\"\",label:\"Tax Number\",onChange:handleChange,validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 10\"],errorMessages:[\"this field is required\",\"this field requires 10 characters\",\"this field requires 10 characters\"]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"primary\",variant:\"contained\",type:\"submit\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{children:\"send\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"i\" /* Span */],{sx:{pl:1,textTransform:\"capitalize\"},children:\"Submit\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Snackbar[\"a\" /* default */],{open:open,autoHideDuration:6000,onClose:handleClose,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{onClose:handleClose,severity:\"success\",sx:{width:\"100%\"},variant:\"filled\",children:\"Service Provider details have been updated success!\"})})]});};/* harmony default export */ var components_EditServiceProviderForm = (EditServiceProviderForm_EditServiceProviderForm);\n// CONCATENATED MODULE: ./src/app/pages/admin/ServiceProviderViews/ServiceProviderEditForm.jsx\nvar ContentBox=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return Object(defineProperty[\"a\" /* default */])({margin:'30px'},theme.breakpoints.down('sm'),{margin:'16px'});});var ServiceProviderEditForm_ServiceProviderEditForm=function ServiceProviderEditForm(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContentBox,{className:\"service-provider-edit-form\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components[\"l\" /* SimpleCard */],{title:\"Edit Service Provider Details\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_EditServiceProviderForm,{})})})});};/* harmony default export */ var ServiceProviderViews_ServiceProviderEditForm = __webpack_exports__[\"default\"] = (ServiceProviderEditForm_ServiceProviderEditForm);\n\n/***/ })\n\n}]);","inputSourceMap":null}