{"code":"(this[\"webpackJsonpmatx-react\"]=this[\"webpackJsonpmatx-react\"]||[]).push([[90],{692:function(e,a,r){\"use strict\";r.r(a);var t=r(33),s=r(47),n=r(13),i=r(761),c=r(252),o=r(300),l=r(268),d=r(411),u=r(119),m=r(173),b=r(59),p=r(41),h=r(128),j=r(496),x=r(1),O=r(21),g=r(37),f=r(497),w=r(66),v=r(2),y=Object(u.a)(m.a)((function(){return{display:\"flex\",alignItems:\"center\"}})),k=Object(u.a)(y)((function(){return{justifyContent:\"center\"}})),C=Object(u.a)(m.a)((function(){return{height:\"100%\",padding:\"32px\",position:\"relative\",background:\"rgba(0, 0, 0, 0.01)\"}})),B=Object(u.a)(k)((function(){return{background:\"#1A2038\",minHeight:\"100% !important\",\"& .card\":{maxWidth:800,minHeight:400,margin:\"1rem\",display:\"flex\",borderRadius:12,alignItems:\"center\"}}})),S={email:\"\",password:\"\",remember:!0},T=f.a().shape({password:f.b().min(6,\"Password must be 6 character length\").required(\"Password is required!\"),email:f.b().email(\"Invalid Email address\").required(\"Email is required!\")});a.default=function(){var e=Object(b.a)(),a=Object(O.f)(),r=Object(x.useState)(!1),u=Object(n.a)(r,2),m=u[0],f=u[1],q=Object(h.a)().login,P=function(){var e=Object(s.a)(Object(t.a)().mark((function e(a,r){var s;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post(\"/auth\",{email:a,password:r});case 2:return s=e.sent,e.abrupt(\"return\",s.data);case 4:case\"end\":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(Object(t.a)().mark((function e(r){var s,n,i;return Object(t.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,P(r.email,r.password);case 4:return s=e.sent,n=s.accessToken,i=s.user,console.log(\"accessToken: \"+n+\" user: \"+i),e.next=9,q(n,i);case 9:\"admin\"===i.role?a(\"/netcare/admin/dashboard\"):\"hospital\"===i.role?a(\"/netcare/hospital/dashboard\"):\"service provider\"===i.role?a(\"/netcare/service_provider/dashboard\"):\"driver\"===i.role&&a(\"/netcare/driver/dashboard\"),f(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),f(!1);case 16:case\"end\":return e.stop()}}),e,null,[[1,13]])})));return function(a){return e.apply(this,arguments)}}();return Object(v.jsx)(B,{children:Object(v.jsx)(c.a,{className:\"card\",children:Object(v.jsxs)(o.a,{container:!0,children:[Object(v.jsx)(o.a,{item:!0,sm:6,xs:12,children:Object(v.jsx)(k,{p:4,height:\"100%\",sx:{minWidth:320},children:Object(v.jsx)(\"img\",{src:\"/assets/images/logo.png\",width:\"100%\",alt:\"\"})})}),Object(v.jsx)(o.a,{item:!0,sm:6,xs:12,children:Object(v.jsxs)(C,{children:[Object(v.jsx)(j.a,{onSubmit:W,initialValues:S,validationSchema:T,children:function(a){var r=a.values,t=a.errors,s=a.touched,n=a.handleChange,c=a.handleBlur,o=a.handleSubmit;return Object(v.jsxs)(\"form\",{onSubmit:o,children:[Object(v.jsx)(l.a,{fullWidth:!0,size:\"small\",type:\"email\",name:\"email\",label:\"Email\",variant:\"outlined\",onBlur:c,value:r.email,onChange:n,helperText:s.email&&t.email,error:Boolean(t.email&&s.email),sx:{mb:3}}),Object(v.jsx)(l.a,{fullWidth:!0,size:\"small\",name:\"password\",type:\"password\",label:\"Password\",variant:\"outlined\",onBlur:c,value:r.password,onChange:n,helperText:s.password&&t.password,error:Boolean(t.password&&s.password),sx:{mb:1.5}}),Object(v.jsxs)(y,{justifyContent:\"space-between\",children:[Object(v.jsxs)(y,{gap:1,children:[Object(v.jsx)(d.a,{size:\"small\",name:\"remember\",onChange:n,checked:r.remember,sx:{padding:0}}),Object(v.jsx)(p.g,{children:\"Remember Me\"})]}),Object(v.jsx)(g.c,{to:\"/session/forgot-password\",style:{color:e.palette.primary.main},children:\"Forgot password?\"})]}),Object(v.jsx)(i.a,{type:\"submit\",color:\"primary\",loading:m,variant:\"contained\",sx:{my:2},children:\"Login\"})]})}}),Object(v.jsxs)(y,{justifyContent:\"space-between\",children:[Object(v.jsx)(p.g,{children:\"This Application is powered by BinPack\"}),Object(v.jsx)(\"img\",{src:\"/assets/images/logo.png\",width:\"54px\",height:\"44px\",alt:\"netcare\"})]})]})})]})})})}}}]);","name":"static/js/90.6740c9fd.chunk.js","input":"(this[\"webpackJsonpmatx-react\"] = this[\"webpackJsonpmatx-react\"] || []).push([[90],{\n\n/***/ 692:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_bluevisionai_Desktop_untitled_folder_untitled_folder_gitdagray_binpack_16_03_23_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(33);\n/* harmony import */ var _Users_bluevisionai_Desktop_untitled_folder_untitled_folder_gitdagray_binpack_16_03_23_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(47);\n/* harmony import */ var _Users_bluevisionai_Desktop_untitled_folder_untitled_folder_gitdagray_binpack_16_03_23_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(13);\n/* harmony import */ var _mui_lab__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(761);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(252);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(300);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(268);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(411);\n/* harmony import */ var _mui_system__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(119);\n/* harmony import */ var _mui_system__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(173);\n/* harmony import */ var _mui_system__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(59);\n/* harmony import */ var app_components_Typography__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(41);\n/* harmony import */ var app_hooks_useAuth__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(128);\n/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(496);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(21);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(37);\n/* harmony import */ var yup__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(497);\n/* harmony import */ var app_api_axios_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(66);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(2);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__);\nvar FlexBox=Object(_mui_system__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])(_mui_system__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"])(function(){return{display:'flex',alignItems:'center'};});var JustifyBox=Object(_mui_system__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])(FlexBox)(function(){return{justifyContent:'center'};});var ContentBox=Object(_mui_system__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])(_mui_system__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"])(function(){return{height:'100%',padding:'32px',position:'relative',background:'rgba(0, 0, 0, 0.01)'};});var JWTRoot=Object(_mui_system__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])(JustifyBox)(function(){return{background:'#1A2038',minHeight:'100% !important','& .card':{maxWidth:800,minHeight:400,margin:'1rem',display:'flex',borderRadius:12,alignItems:'center'}};});// inital login credentials\nvar initialValues={email:'',password:'',remember:true};// form field validation schema\nvar validationSchema=yup__WEBPACK_IMPORTED_MODULE_17__[/* object */ \"a\"]().shape({password:yup__WEBPACK_IMPORTED_MODULE_17__[/* string */ \"b\"]().min(6,'Password must be 6 character length').required('Password is required!'),email:yup__WEBPACK_IMPORTED_MODULE_17__[/* string */ \"b\"]().email('Invalid Email address').required('Email is required!')});var JwtLogin=function JwtLogin(){var theme=Object(_mui_system__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"])();var navigate=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_15__[/* useNavigate */ \"f\"])();var _useState=Object(react__WEBPACK_IMPORTED_MODULE_14__[\"useState\"])(false),_useState2=Object(_Users_bluevisionai_Desktop_untitled_folder_untitled_folder_gitdagray_binpack_16_03_23_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useAuth=Object(app_hooks_useAuth__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"])(),login=_useAuth.login;var logIn=/*#__PURE__*/function(){var _ref=Object(_Users_bluevisionai_Desktop_untitled_folder_untitled_folder_gitdagray_binpack_16_03_23_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/Object(_Users_bluevisionai_Desktop_untitled_folder_untitled_folder_gitdagray_binpack_16_03_23_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().mark(function _callee(email,password){var response;return Object(_Users_bluevisionai_Desktop_untitled_folder_untitled_folder_gitdagray_binpack_16_03_23_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return app_api_axios_js__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].post('/auth',{email:email,password:password});case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function logIn(_x,_x2){return _ref.apply(this,arguments);};}();var handleFormSubmit=/*#__PURE__*/function(){var _ref2=Object(_Users_bluevisionai_Desktop_untitled_folder_untitled_folder_gitdagray_binpack_16_03_23_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/Object(_Users_bluevisionai_Desktop_untitled_folder_untitled_folder_gitdagray_binpack_16_03_23_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().mark(function _callee2(values){var Logging,accessToken,user;return Object(_Users_bluevisionai_Desktop_untitled_folder_untitled_folder_gitdagray_binpack_16_03_23_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.prev=1;_context2.next=4;return logIn(values.email,values.password);case 4:Logging=_context2.sent;accessToken=Logging.accessToken,user=Logging.user;console.log(\"accessToken: \"+accessToken+\" user: \"+user);_context2.next=9;return login(accessToken,user);case 9:if(user.role==='admin'){navigate('/netcare/admin/dashboard');}else if(user.role==='hospital'){navigate('/netcare/hospital/dashboard');}else if(user.role==='service provider'){navigate('/netcare/service_provider/dashboard');}else if(user.role==='driver'){navigate('/netcare/driver/dashboard');}setLoading(false);_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](1);setLoading(false);case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[1,13]]);}));return function handleFormSubmit(_x3){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(JWTRoot,{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(_mui_material__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{className:\"card\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxs\"])(_mui_material__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{container:true,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(_mui_material__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{item:true,sm:6,xs:12,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(JustifyBox,{p:4,height:\"100%\",sx:{minWidth:320},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(\"img\",{src:\"/assets/images/logo.png\",width:\"100%\",alt:\"\"})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(_mui_material__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{item:true,sm:6,xs:12,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxs\"])(ContentBox,{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_13__[/* Formik */ \"a\"],{onSubmit:handleFormSubmit,initialValues:initialValues,validationSchema:validationSchema,children:function children(_ref3){var values=_ref3.values,errors=_ref3.errors,touched=_ref3.touched,handleChange=_ref3.handleChange,handleBlur=_ref3.handleBlur,handleSubmit=_ref3.handleSubmit;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(_mui_material__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{fullWidth:true,size:\"small\",type:\"email\",name:\"email\",label:\"Email\",variant:\"outlined\",onBlur:handleBlur,value:values.email,onChange:handleChange,helperText:touched.email&&errors.email,error:Boolean(errors.email&&touched.email),sx:{mb:3}}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(_mui_material__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{fullWidth:true,size:\"small\",name:\"password\",type:\"password\",label:\"Password\",variant:\"outlined\",onBlur:handleBlur,value:values.password,onChange:handleChange,helperText:touched.password&&errors.password,error:Boolean(errors.password&&touched.password),sx:{mb:1.5}}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxs\"])(FlexBox,{justifyContent:\"space-between\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxs\"])(FlexBox,{gap:1,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(_mui_material__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"],{size:\"small\",name:\"remember\",onChange:handleChange,checked:values.remember,sx:{padding:0}}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(app_components_Typography__WEBPACK_IMPORTED_MODULE_11__[/* Paragraph */ \"g\"],{children:\"Remember Me\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_16__[/* NavLink */ \"c\"],{to:\"/session/forgot-password\",style:{color:theme.palette.primary.main},children:\"Forgot password?\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(_mui_lab__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{type:\"submit\",color:\"primary\",loading:loading,variant:\"contained\",sx:{my:2},children:\"Login\"})]});}}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxs\"])(FlexBox,{justifyContent:\"space-between\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(app_components_Typography__WEBPACK_IMPORTED_MODULE_11__[/* Paragraph */ \"g\"],{children:\"This Application is powered by BinPack\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsx\"])(\"img\",{src:\"/assets/images/logo.png\",width:\"54px\",height:\"44px\",alt:\"netcare\"})]})]})})]})})});};/* harmony default export */ __webpack_exports__[\"default\"] = (JwtLogin);\n\n/***/ })\n\n}]);","inputSourceMap":null}