{"code":"(this[\"webpackJsonpmatx-react\"]=this[\"webpackJsonpmatx-react\"]||[]).push([[59],{737:function(e,t,a){\"use strict\";a.r(t);var r=a(7),i=a(5),s=a(1),n=a(67),c=a(11),o=a(33),l=a(47),d=a(13),u=a(728),m=a(702),h=a(300),b=a(245),j=a(174),g=a(41),x=a(332),p=a(66),v=a(21),O=a(2),f=Object(i.a)(x.TextValidator)((function(){return{width:\"100%\",marginBottom:\"16px\"}})),q=function(){var e=Object(s.useState)({date:new Date}),t=Object(d.a)(e,2),a=t[0],i=t[1],n=Object(s.useState)(!1),q=Object(d.a)(n,2),y=q[0],S=q[1],w=Object(v.f)();function C(e,t){\"clickaway\"!==t&&S(!1)}var k=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,r,i,s,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=window.localStorage.getItem(\"accessToken\"),console.log(\"accessToken: \"+a),e.next=5,p.a.post(\"/company\",{name:t.target.companyName.value,phone:t.target.mobile.value,email:t.target.email.value,address:t.target.address.value,registration_no:t.target.registration.value,tax_no:t.target.tax.value,client_id:\"\",created_date:new Date,updated_at:new Date,headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(a)}});case 5:r=e.sent,i=r.data,s=i.status,n=i.companies,console.log(\"companies: \"+n),\"success\"===s&&(S(!0),w(\"/netcare/admin/service-provider\")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(\"error: \"+e.t0);case 14:case\"end\":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e){e.persist(),i(Object(c.a)(Object(c.a)({},a),{},Object(r.a)({},e.target.name,e.target.value)))},N=a.companyName,M=a.mobile,T=a.registration,_=a.tax,D=a.address,A=a.email;return Object(O.jsxs)(\"div\",{children:[Object(O.jsx)(u.a,{open:y,autoHideDuration:6e3,onClose:C,children:Object(O.jsx)(m.a,{onClose:C,severity:\"success\",sx:{width:\"100%\"},variant:\"filled\",children:\"Service Provider has been added success!\"})}),Object(O.jsxs)(x.ValidatorForm,{onSubmit:k,onError:function(){return null},children:[Object(O.jsxs)(h.a,{container:!0,spacing:6,children:[Object(O.jsxs)(h.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(O.jsx)(f,{type:\"text\",name:\"companyName\",label:\"Company Name\",onChange:L,value:N||\"\",validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 100\"],errorMessages:[\"this field is required\",\"this field requires 100 characters\",\"this field requires 100 characters\"]}),Object(O.jsx)(f,{type:\"email\",name:\"email\",label:\"Email\",value:A||\"\",onChange:L,validators:[\"required\",\"isEmail\"],errorMessages:[\"this field is required\",\"email is not valid\"]}),Object(O.jsx)(f,{type:\"text\",name:\"address\",label:\"Address\",onChange:L,value:D||\"\",errorMessages:[\"this field is required\",\"this field requires 40 characters\",\"this field requires 40 characters\"],validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 40\"]})]}),Object(O.jsxs)(h.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(O.jsx)(f,{type:\"text\",name:\"mobile\",value:M||\"\",label:\"Mobile Number\",onChange:L,validators:[\"required\"],errorMessages:[\"this field is required\"]}),Object(O.jsx)(f,{type:\"text\",name:\"registration\",value:T||\"\",label:\"Registration Number\",onChange:L,validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 20\"],errorMessages:[\"this field is required\",\"this field requires 20 characters\",\"this field requires 20 characters\"]}),Object(O.jsx)(f,{type:\"text\",name:\"tax\",value:_||\"\",label:\"Tax Number\",onChange:L,validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 10\"],errorMessages:[\"this field is required\",\"this field requires 10 characters\",\"this field requires 10 characters\"]})]})]}),Object(O.jsxs)(b.a,{color:\"primary\",variant:\"contained\",type:\"submit\",children:[Object(O.jsx)(j.a,{children:\"send\"}),Object(O.jsx)(g.i,{sx:{pl:1,textTransform:\"capitalize\"},children:\"Submit\"})]})]})]})},y=Object(i.a)(\"div\")((function(e){var t=e.theme;return Object(r.a)({margin:\"30px\"},t.breakpoints.down(\"sm\"),{margin:\"16px\"})}));t.default=function(){return Object(O.jsx)(s.Fragment,{children:Object(O.jsx)(y,{className:\"service-provider-add-form\",children:Object(O.jsx)(n.l,{title:\"Add Service Provider\",children:Object(O.jsx)(q,{})})})})}}}]);","name":"static/js/59.3a7d0b6a.chunk.js","input":"(this[\"webpackJsonpmatx-react\"] = this[\"webpackJsonpmatx-react\"] || []).push([[59],{\n\n/***/ 737:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js\nvar styled = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./src/app/components/index.js + 18 modules\nvar components = __webpack_require__(67);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(47);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Snackbar/Snackbar.js + 1 modules\nvar Snackbar = __webpack_require__(728);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Alert/Alert.js + 5 modules\nvar Alert = __webpack_require__(702);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Grid/Grid.js + 2 modules\nvar Grid = __webpack_require__(300);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 2 modules\nvar Button = __webpack_require__(245);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Icon/Icon.js + 1 modules\nvar Icon = __webpack_require__(174);\n\n// EXTERNAL MODULE: ./src/app/components/Typography.js\nvar Typography = __webpack_require__(41);\n\n// EXTERNAL MODULE: ./node_modules/react-material-ui-form-validator/lib/index.js\nvar lib = __webpack_require__(332);\n\n// EXTERNAL MODULE: ./src/app/api/axios.js\nvar axios = __webpack_require__(66);\n\n// EXTERNAL MODULE: ./node_modules/react-router/index.js\nvar react_router = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/app/pages/admin/ServiceProviderViews/components/AddServiceProviderForm.jsx\nvar TextField=Object(styled[\"a\" /* default */])(lib[\"TextValidator\"])(function(){return{width:\"100%\",marginBottom:\"16px\"};});var AddServiceProviderForm_AddServiceProviderForm=function AddServiceProviderForm(){var _useState=Object(react[\"useState\"])({date:new Date()}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var navigate=Object(react_router[\"f\" /* useNavigate */])();function handleClose(_,reason){if(reason===\"clickaway\"){return;}setOpen(false);}var handleSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var accessToken,response,_response$data,status,companies;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;accessToken=window.localStorage.getItem('accessToken');console.log(\"accessToken: \"+accessToken);_context.next=5;return axios[\"a\" /* default */].post('/company',{name:event.target.companyName.value,phone:event.target.mobile.value,email:event.target.email.value,address:event.target.address.value,registration_no:event.target.registration.value,tax_no:event.target.tax.value,client_id:'',created_date:new Date(),updated_at:new Date(),headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(accessToken)}// withCredentials: true\n});case 5:response=_context.sent;_response$data=response.data,status=_response$data.status,companies=_response$data.companies;console.log(\"companies: \"+companies);if(status==='success'){setOpen(true);navigate('/netcare/admin/service-provider');}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(\"error: \"+_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){event.persist();setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},Object(defineProperty[\"a\" /* default */])({},event.target.name,event.target.value)));};var companyName=state.companyName,mobile=state.mobile,registration=state.registration,tax=state.tax,address=state.address,email=state.email;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Snackbar[\"a\" /* default */],{open:open,autoHideDuration:6000,onClose:handleClose,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{onClose:handleClose,severity:\"success\",sx:{width:\"100%\"},variant:\"filled\",children:\"Service Provider has been added success!\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(lib[\"ValidatorForm\"],{onSubmit:handleSubmit,onError:function onError(){return null;},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,spacing:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField,{type:\"text\",name:\"companyName\",label:\"Company Name\",onChange:handleChange,value:companyName||\"\",validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 100\"],errorMessages:[\"this field is required\",\"this field requires 100 characters\",\"this field requires 100 characters\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField,{type:\"email\",name:\"email\",label:\"Email\",value:email||\"\",onChange:handleChange,validators:[\"required\",\"isEmail\"],errorMessages:[\"this field is required\",\"email is not valid\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField,{type:\"text\",name:\"address\",label:\"Address\",onChange:handleChange,value:address||\"\",errorMessages:[\"this field is required\",\"this field requires 40 characters\",\"this field requires 40 characters\"],validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 40\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField,{type:\"text\",name:\"mobile\",value:mobile||\"\",label:\"Mobile Number\",onChange:handleChange,validators:[\"required\"],errorMessages:[\"this field is required\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField,{type:\"text\",name:\"registration\",value:registration||\"\",label:\"Registration Number\",onChange:handleChange,validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 20\"],errorMessages:[\"this field is required\",\"this field requires 20 characters\",\"this field requires 20 characters\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField,{type:\"text\",name:\"tax\",value:tax||\"\",label:\"Tax Number\",onChange:handleChange,validators:[\"required\",\"minStringLength:1\",\"maxStringLength: 10\"],errorMessages:[\"this field is required\",\"this field requires 10 characters\",\"this field requires 10 characters\"]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"primary\",variant:\"contained\",type:\"submit\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{children:\"send\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"i\" /* Span */],{sx:{pl:1,textTransform:\"capitalize\"},children:\"Submit\"})]})]})]});};/* harmony default export */ var components_AddServiceProviderForm = (AddServiceProviderForm_AddServiceProviderForm);\n// CONCATENATED MODULE: ./src/app/pages/admin/ServiceProviderViews/ServiceProviderAddForm.jsx\nvar ContentBox=Object(styled[\"a\" /* default */])('div')(function(_ref){var theme=_ref.theme;return Object(defineProperty[\"a\" /* default */])({margin:'30px'},theme.breakpoints.down('sm'),{margin:'16px'});});var ServiceProviderAddForm_ServiceProviderAddForm=function ServiceProviderAddForm(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ContentBox,{className:\"service-provider-add-form\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components[\"l\" /* SimpleCard */],{title:\"Add Service Provider\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AddServiceProviderForm,{})})})});};/* harmony default export */ var ServiceProviderViews_ServiceProviderAddForm = __webpack_exports__[\"default\"] = (ServiceProviderAddForm_ServiceProviderAddForm);\n\n/***/ })\n\n}]);","inputSourceMap":null}