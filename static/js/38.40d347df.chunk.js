(this.webpackJsonpBinPack=this.webpackJsonpBinPack||[]).push([[38],{339:function(e,t,a){"use strict";var n=a(260);t.a=n.a},340:function(e,t,a){"use strict";var n=a(322);t.a=n.a},342:function(e,t,a){"use strict";var n=a(1);const o=n.createContext(void 0);t.a=o},355:function(e,t,a){"use strict";var n=a(4),o=a(3),r=a(1),s=a(7),c=a(95),i=a(21),l=a(343),d=a(10),u=a(68),j=a(2),b=Object(u.a)(Object(j.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),m=Object(u.a)(Object(j.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),p=a(5),h=a(80);const O=Object(p.a)("span",{shouldForwardProp:h.a})({position:"relative",display:"flex"}),v=Object(p.a)(b)({transform:"scale(1)"}),x=Object(p.a)(m)((e=>{let{theme:t,ownerState:a}=e;return Object(o.a)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},a.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));var g=function(e){const{checked:t=!1,classes:a={},fontSize:n}=e,r=Object(o.a)({},e,{checked:t});return Object(j.jsxs)(O,{className:a.root,ownerState:r,children:[Object(j.jsx)(v,{fontSize:n,className:a.background,ownerState:r}),Object(j.jsx)(x,{fontSize:n,className:a.dot,ownerState:r})]})},f=a(8),C=a(340),S=a(342);var w=a(67),y=a(59);function k(e){return Object(y.a)("MuiRadio",e)}var z=Object(w.a)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]);const P=["checked","checkedIcon","color","icon","name","onChange","size","className"],R=Object(p.a)(l.a,{shouldForwardProp:e=>Object(h.a)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,"medium"!==a.size&&t["size".concat(Object(f.a)(a.size))],t["color".concat(Object(f.a)(a.color))]]}})((e=>{let{theme:t,ownerState:a}=e;return Object(o.a)({color:(t.vars||t).palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===a.color?t.vars.palette.action.activeChannel:t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(i.alpha)("default"===a.color?t.palette.action.active:t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&{["&.".concat(z.checked)]:{color:(t.vars||t).palette[a.color].main}},{["&.".concat(z.disabled)]:{color:(t.vars||t).palette.action.disabled}})}));const N=Object(j.jsx)(g,{checked:!0}),q=Object(j.jsx)(g,{}),I=r.forwardRef((function(e,t){var a,i;const l=Object(d.a)({props:e,name:"MuiRadio"}),{checked:u,checkedIcon:b=N,color:m="primary",icon:p=q,name:h,onChange:O,size:v="medium",className:x}=l,g=Object(n.a)(l,P),w=Object(o.a)({},l,{color:m,size:v}),y=(e=>{const{classes:t,color:a,size:n}=e,r={root:["root","color".concat(Object(f.a)(a)),"medium"!==n&&"size".concat(Object(f.a)(n))]};return Object(o.a)({},t,Object(c.a)(r,k,t))})(w),z=r.useContext(S.a);let I=u;const M=Object(C.a)(O,z&&z.onChange);let A=h;var E,T;return z&&("undefined"===typeof I&&(E=z.value,I="object"===typeof(T=l.value)&&null!==T?E===T:String(E)===String(T)),"undefined"===typeof A&&(A=z.name)),Object(j.jsx)(R,Object(o.a)({type:"radio",icon:r.cloneElement(p,{fontSize:null!=(a=q.props.fontSize)?a:v}),checkedIcon:r.cloneElement(b,{fontSize:null!=(i=N.props.fontSize)?i:v}),ownerState:w,classes:y,name:A,checked:I,onChange:M,ref:t,className:Object(s.a)(y.root,x)},g))}));t.a=I},361:function(e,t,a){"use strict";var n=a(3),o=a(4),r=a(1),s=a(7),c=a(95),i=a(717),l=a(67),d=a(59);function u(e){return Object(d.a)("MuiRadioGroup",e)}Object(l.a)("MuiRadioGroup",["root","row","error"]);var j=a(26),b=a(114),m=a(342),p=a(339),h=a(2);const O=["actions","children","className","defaultValue","name","onChange","value"],v=r.forwardRef((function(e,t){const{actions:a,children:l,className:d,defaultValue:v,name:x,onChange:g,value:f}=e,C=Object(o.a)(e,O),S=r.useRef(null),w=(e=>{const{classes:t,row:a,error:n}=e,o={root:["root",a&&"row",n&&"error"]};return Object(c.a)(o,u,t)})(e),[y,k]=Object(b.a)({controlled:f,default:v,name:"RadioGroup"});r.useImperativeHandle(a,(()=>({focus:()=>{let e=S.current.querySelector("input:not(:disabled):checked");e||(e=S.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const z=Object(j.a)(t,S),P=Object(p.a)(x),R=r.useMemo((()=>({name:P,onChange(e){k(e.target.value),g&&g(e,e.target.value)},value:y})),[P,g,k,y]);return Object(h.jsx)(m.a.Provider,{value:R,children:Object(h.jsx)(i.a,Object(n.a)({role:"radiogroup",ref:z,className:Object(s.a)(w.root,d)},C,{children:l}))})}));t.a=v},737:function(e,t,a){"use strict";a.r(t);var n=a(5),o=a(1),r=a(70),s=a(697),c=a(272),i=a(331),l=a(269),d=a(361),u=a(718),j=a(355),b=a(265),m=a(194),p=a(40),h=a(344),O=a(69),v=a(9),x=a(319),g=a(133),f=a(2);const C=Object(n.a)(s.a)((()=>({}))),S=Object(n.a)(h.TextValidator)((()=>({width:"100%",marginBottom:"16px"}))),w=window.localStorage.getItem("accessToken");var y=()=>{const[e,t]=Object(o.useState)({date:new Date}),[a,n]=Object(o.useState)(!1),[r,s]=Object(o.useState)([]),[y,k]=Object(o.useState)([]),[z,P]=Object(o.useState)(null),[R,N]=Object(o.useState)(null),q=a&&0===r.length,I=Object(v.o)();Object(o.useEffect)((()=>{let e=!0;if(q)return(async()=>{const t=await O.a.get("/hospital",{headers:{"Content-Type":"application/json"}}),a=await O.a.get("/company",{headers:{"Content-Type":"application/json"}}),{hospitals:n}=t.data,{companies:o}=a.data;e&&(s(n),k(o))})(),()=>{e=!1}}),[q,r]),Object(o.useEffect)((()=>{a||s([])}),[a]);const M=(e,t)=>{P(t)},A=(e,t)=>{N(t)},E=a=>{a.persist(),t({...e,[a.target.name]:a.target.value})},{username:T,mobile:B,surname:F,password:L,confirmPassword:U,email:V,role:_,isActive:D}=e;return Object(f.jsx)("div",{children:Object(f.jsxs)(h.ValidatorForm,{onSubmit:async e=>{var t="",a="";null!==z?(t=z.name,a=z.hospital_id):null!==R&&(t=R.name,a=R.company_id);try{const n=await O.a.post("/users",{name:e.target.username.value,surname:e.target.surname.value,role:e.target.role.value,password:e.target.password.value,company:t,company_id:a,is_active:e.target.userstatus.value,phone:e.target.mobile.value,email:e.target.email.value,created_date:new Date,updated_at:new Date,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(w)}}),{status:o}=n.data;"success"===o&&I("/netcare/admin/user")}catch(n){}},onError:()=>null,children:[Object(f.jsxs)(i.a,{container:!0,spacing:6,children:[Object(f.jsxs)(i.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(f.jsx)(S,{type:"text",name:"username",label:"Name",onChange:E,value:T||"",validators:["required","minStringLength:1","maxStringLength: 100"],errorMessages:["this field is required","this field requires 100 characters","this field requires 100 characters"]}),Object(f.jsx)(S,{type:"email",name:"email",label:"Email",value:V||"",onChange:E,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]}),Object(f.jsx)(S,{name:"password",type:"password",label:"Password",value:L||"",onChange:E}),Object(f.jsx)(S,{type:"password",name:"confirmPassword",onChange:E,label:"Confirm Password",value:U||""}),Object(f.jsx)(g.a,{children:Object(f.jsxs)(l.a,{component:"fieldset",className:"formControl",children:[Object(f.jsx)(x.a,{component:"legend",children:"Would you like this user to be active"}),Object(f.jsxs)(d.a,{value:D,name:"userstatus",className:"userstatus","aria-label":"User Status",onChange:E,children:[Object(f.jsx)(u.a,{value:!0,control:Object(f.jsx)(j.a,{}),label:"Active"}),Object(f.jsx)(u.a,{value:!1,control:Object(f.jsx)(j.a,{}),label:"None Active"})]})]})})]}),Object(f.jsxs)(i.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(f.jsx)(S,{type:"text",name:"surname",label:"Surname",onChange:E,value:F||"",validators:["required","minStringLength:1","maxStringLength: 100"],errorMessages:["this field is required","this field requires 100 characters","this field requires 100 characters"]}),Object(f.jsx)(S,{type:"text",name:"mobile",value:B||"",label:"Mobile Number",onChange:E,validators:["required"],errorMessages:["this field is required"]}),Object(f.jsxs)(g.a,{children:[Object(f.jsxs)(l.a,{component:"fieldset",className:"formControl",children:[Object(f.jsx)(x.a,{component:"legend",children:"Role"}),Object(f.jsxs)(d.a,{value:_,name:"role",className:"Role","aria-label":"Role",onChange:E,children:[Object(f.jsx)(u.a,{value:"admin",control:Object(f.jsx)(j.a,{}),label:"Admin User"}),Object(f.jsx)(u.a,{value:"hospital",control:Object(f.jsx)(j.a,{}),label:"Hospital User"}),Object(f.jsx)(u.a,{value:"service provider",control:Object(f.jsx)(j.a,{}),label:"Service Provider User"}),Object(f.jsx)(u.a,{value:"driver",control:Object(f.jsx)(j.a,{}),label:"Driver"})]})]}),Object(f.jsx)(i.a,{children:(e=>"hospital"===e?Object(f.jsx)(C,{open:a,options:r,loading:q,onChange:M,id:"Hospital",onOpen:()=>n(!0),onClose:()=>n(!1),getOptionLabel:e=>e.name,isOptionEqualToValue:(e,t)=>e.name===t.name,renderInput:e=>Object(f.jsx)(S,{...e,fullWidth:!0,variant:"outlined",label:"Choose Hospital",InputProps:{...e.InputProps,endAdornment:Object(f.jsxs)(o.Fragment,{children:[q?Object(f.jsx)(c.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}})}):"service provider"===e||"driver"===e?Object(f.jsx)(C,{open:a,options:y,loading:q,onChange:A,id:"company",onOpen:()=>n(!0),onClose:()=>n(!1),getOptionLabel:e=>e.name,isOptionEqualToValue:(e,t)=>e.name===t.name,renderInput:e=>Object(f.jsx)(S,{...e,fullWidth:!0,variant:"outlined",label:"Choose Service Provider",InputProps:{...e.InputProps,endAdornment:Object(f.jsxs)(o.Fragment,{children:[q?Object(f.jsx)(c.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}})}):void 0)(_)})]})]})]}),Object(f.jsxs)(b.a,{color:"primary",variant:"contained",type:"submit",children:[Object(f.jsx)(m.a,{children:"send"}),Object(f.jsx)(p.i,{sx:{pl:1,textTransform:"capitalize"},children:"Submit"})]})]})})};const k=Object(n.a)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}}));t.default=()=>Object(f.jsx)(o.Fragment,{children:Object(f.jsx)(k,{className:"hospitals-add-user-form",children:Object(f.jsx)(r.k,{title:"Add User",children:Object(f.jsx)(y,{})})})})}}]);