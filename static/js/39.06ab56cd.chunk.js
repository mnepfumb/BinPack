(this.webpackJsonpBinPack=this.webpackJsonpBinPack||[]).push([[39],{339:function(e,t,a){"use strict";var r=a(260);t.a=r.a},340:function(e,t,a){"use strict";var r=a(322);t.a=r.a},342:function(e,t,a){"use strict";var r=a(1);const n=r.createContext(void 0);t.a=n},355:function(e,t,a){"use strict";var r=a(4),n=a(3),s=a(1),o=a(7),c=a(95),i=a(21),l=a(343),u=a(10),d=a(68),j=a(2),b=Object(d.a)(Object(j.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),m=Object(d.a)(Object(j.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),h=a(5),p=a(80);const O=Object(h.a)("span",{shouldForwardProp:p.a})({position:"relative",display:"flex"}),v=Object(h.a)(b)({transform:"scale(1)"}),x=Object(h.a)(m)((e=>{let{theme:t,ownerState:a}=e;return Object(n.a)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},a.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));var g=function(e){const{checked:t=!1,classes:a={},fontSize:r}=e,s=Object(n.a)({},e,{checked:t});return Object(j.jsxs)(O,{className:a.root,ownerState:s,children:[Object(j.jsx)(v,{fontSize:r,className:a.background,ownerState:s}),Object(j.jsx)(x,{fontSize:r,className:a.dot,ownerState:s})]})},f=a(8),S=a(340),C=a(342);var y=a(67),k=a(59);function w(e){return Object(k.a)("MuiRadio",e)}var z=Object(y.a)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]);const R=["checked","checkedIcon","color","icon","name","onChange","size","className"],N=Object(h.a)(l.a,{shouldForwardProp:e=>Object(p.a)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,"medium"!==a.size&&t["size".concat(Object(f.a)(a.size))],t["color".concat(Object(f.a)(a.color))]]}})((e=>{let{theme:t,ownerState:a}=e;return Object(n.a)({color:(t.vars||t).palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===a.color?t.vars.palette.action.activeChannel:t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(i.alpha)("default"===a.color?t.palette.action.active:t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&{["&.".concat(z.checked)]:{color:(t.vars||t).palette[a.color].main}},{["&.".concat(z.disabled)]:{color:(t.vars||t).palette.action.disabled}})}));const q=Object(j.jsx)(g,{checked:!0}),I=Object(j.jsx)(g,{}),M=s.forwardRef((function(e,t){var a,i;const l=Object(u.a)({props:e,name:"MuiRadio"}),{checked:d,checkedIcon:b=q,color:m="primary",icon:h=I,name:p,onChange:O,size:v="medium",className:x}=l,g=Object(r.a)(l,R),y=Object(n.a)({},l,{color:m,size:v}),k=(e=>{const{classes:t,color:a,size:r}=e,s={root:["root","color".concat(Object(f.a)(a)),"medium"!==r&&"size".concat(Object(f.a)(r))]};return Object(n.a)({},t,Object(c.a)(s,w,t))})(y),z=s.useContext(C.a);let M=d;const P=Object(S.a)(O,z&&z.onChange);let E=p;var A,_;return z&&("undefined"===typeof M&&(A=z.value,M="object"===typeof(_=l.value)&&null!==_?A===_:String(A)===String(_)),"undefined"===typeof E&&(E=z.name)),Object(j.jsx)(N,Object(n.a)({type:"radio",icon:s.cloneElement(h,{fontSize:null!=(a=I.props.fontSize)?a:v}),checkedIcon:s.cloneElement(b,{fontSize:null!=(i=q.props.fontSize)?i:v}),ownerState:y,classes:k,name:E,checked:M,onChange:P,ref:t,className:Object(o.a)(k.root,x)},g))}));t.a=M},361:function(e,t,a){"use strict";var r=a(3),n=a(4),s=a(1),o=a(7),c=a(95),i=a(717),l=a(67),u=a(59);function d(e){return Object(u.a)("MuiRadioGroup",e)}Object(l.a)("MuiRadioGroup",["root","row","error"]);var j=a(26),b=a(114),m=a(342),h=a(339),p=a(2);const O=["actions","children","className","defaultValue","name","onChange","value"],v=s.forwardRef((function(e,t){const{actions:a,children:l,className:u,defaultValue:v,name:x,onChange:g,value:f}=e,S=Object(n.a)(e,O),C=s.useRef(null),y=(e=>{const{classes:t,row:a,error:r}=e,n={root:["root",a&&"row",r&&"error"]};return Object(c.a)(n,d,t)})(e),[k,w]=Object(b.a)({controlled:f,default:v,name:"RadioGroup"});s.useImperativeHandle(a,(()=>({focus:()=>{let e=C.current.querySelector("input:not(:disabled):checked");e||(e=C.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const z=Object(j.a)(t,C),R=Object(h.a)(x),N=s.useMemo((()=>({name:R,onChange(e){w(e.target.value),g&&g(e,e.target.value)},value:k})),[R,g,w,k]);return Object(p.jsx)(m.a.Provider,{value:N,children:Object(p.jsx)(i.a,Object(r.a)({role:"radiogroup",ref:z,className:Object(o.a)(y.root,u)},S,{children:l}))})}));t.a=v},736:function(e,t,a){"use strict";a.r(t);var r=a(5),n=a(1),s=a(70),o=a(697),c=a(272),i=a(331),l=a(269),u=a(361),d=a(718),j=a(355),b=a(265),m=a(194),h=a(40),p=a(344),O=a(69),v=a(319),x=a(133),g=a(9),f=a(2);const S=Object(r.a)(o.a)((()=>({}))),C=Object(r.a)(p.TextValidator)((()=>({width:"100%",marginBottom:"16px"})));var y=()=>{const e=Object(g.m)(),[t,a]=Object(n.useState)({date:new Date}),[r,s]=Object(n.useState)(!1),[o,y]=Object(n.useState)([e.state.user.company]),[k,w]=Object(n.useState)([]),[z,R]=Object(n.useState)(null),[N,q]=Object(n.useState)(null),I=r&&0===o.length,M=Object(g.o)();Object(n.useEffect)((()=>{let e=!0;if(I)return(async()=>{const t=await O.a.get("/hospital",{headers:{"Content-Type":"application/json"}}),{hospitals:a}=t.data;e&&y(a)})(),()=>{e=!1}}),[I,o]),Object(n.useEffect)((()=>{r||y([])}),[r]);const P=(e,t)=>{R(t)},E=(e,t)=>{q(t)},A=e=>{e.persist(),a({...t,[e.target.name]:e.target.value})},{username:_=e.state.user.name,mobile:T=e.state.user.phone,surname:B=e.state.user.surname,email:F=e.state.user.email,role:L=e.state.user.role,isActive:U}=t;return Object(f.jsx)("div",{children:Object(f.jsxs)(p.ValidatorForm,{onSubmit:async t=>{var a=e.state.user.is_active;t.target.userstatus.value&&(a=t.target.userstatus.value);var r="",n="";void 0!==z?(r=z.name,n=z.hospital_id):null!==N&&(r=N.name,n=N.company_id);try{const o=window.localStorage.getItem("accessToken");var s="/users/"+e.state.user._id;const c=await O.a.patch(s,{name:t.target.username.value,surname:t.target.surname.value,role:t.target.role.value,company:r,company_id:n,is_active:a,phone:t.target.mobile.value,email:t.target.email.value,updated_at:new Date,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}}),{status:i}=c.data;"success"===i&&M("/netcare/admin/user")}catch(o){}},onError:()=>null,children:[Object(f.jsxs)(i.a,{container:!0,spacing:6,children:[Object(f.jsxs)(i.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(f.jsx)(C,{type:"text",name:"username",label:"Name",onChange:A,value:_||"",validators:["required","minStringLength:1","maxStringLength: 100"],errorMessages:["this field is required","this field requires 100 characters","this field requires 100 characters"]}),Object(f.jsx)(C,{type:"email",name:"email",label:"Email",value:F||"",onChange:A,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]}),Object(f.jsx)(x.a,{children:Object(f.jsxs)(l.a,{component:"fieldset",className:"formControl",children:[Object(f.jsxs)(v.a,{component:"legend",children:["Would you like this user to be active: ",e.state.user.is_active.toString()]}),Object(f.jsxs)(u.a,{value:U,name:"userstatus",className:"userstatus","aria-label":"User Status",onChange:A,children:[Object(f.jsx)(d.a,{value:!0,control:Object(f.jsx)(j.a,{}),label:"Active"}),Object(f.jsx)(d.a,{value:!1,control:Object(f.jsx)(j.a,{}),label:"None Active"})]})]})})]}),Object(f.jsxs)(i.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(f.jsx)(C,{type:"text",name:"surname",label:"Surname",onChange:A,value:B||"",validators:["required","minStringLength:1","maxStringLength: 100"],errorMessages:["this field is required","this field requires 100 characters","this field requires 100 characters"]}),Object(f.jsx)(C,{type:"text",name:"mobile",value:T||"",label:"Mobile Number",onChange:A,validators:["required"],errorMessages:["this field is required"]}),Object(f.jsxs)(x.a,{children:[Object(f.jsxs)(l.a,{component:"fieldset",className:"formControl",children:[Object(f.jsx)(v.a,{component:"legend",children:"Role"}),Object(f.jsxs)(u.a,{value:L,name:"role",className:"Role","aria-label":"Role",onChange:A,children:[Object(f.jsx)(d.a,{value:"admin",control:Object(f.jsx)(j.a,{}),label:"Admin User"}),Object(f.jsx)(d.a,{value:"hospital",control:Object(f.jsx)(j.a,{}),label:"Hospital User"}),Object(f.jsx)(d.a,{value:"service provider",control:Object(f.jsx)(j.a,{}),label:"Service Provider User"}),Object(f.jsx)(d.a,{value:"driver",control:Object(f.jsx)(j.a,{}),label:"Driver"})]})]}),Object(f.jsx)(i.a,{children:(e=>"hospital"===e?Object(f.jsx)(S,{open:r,options:o,loading:I,onChange:P,id:"Hospital",onOpen:()=>s(!0),onClose:()=>s(!1),getOptionLabel:e=>e.name,isOptionEqualToValue:(e,t)=>e.name===t.name,renderInput:e=>Object(f.jsx)(C,{...e,fullWidth:!0,variant:"outlined",label:"Choose Hospital",InputProps:{...e.InputProps,endAdornment:Object(f.jsxs)(n.Fragment,{children:[I?Object(f.jsx)(c.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}})}):"service provider"===e||"driver"===e?Object(f.jsx)(S,{open:r,options:k,loading:I,onChange:E,id:"company",onOpen:()=>s(!0),onClose:()=>s(!1),getOptionLabel:e=>e.name,isOptionEqualToValue:(e,t)=>e.name===t.name,renderInput:e=>Object(f.jsx)(C,{...e,fullWidth:!0,variant:"outlined",label:"Choose Service Provider",InputProps:{...e.InputProps,endAdornment:Object(f.jsxs)(n.Fragment,{children:[I?Object(f.jsx)(c.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}})}):void 0)(L)})]})]})]}),Object(f.jsxs)(b.a,{color:"primary",variant:"contained",type:"submit",children:[Object(f.jsx)(m.a,{children:"send"}),Object(f.jsx)(h.i,{sx:{pl:1,textTransform:"capitalize"},children:"Submit"})]})]})})};const k=Object(r.a)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}}));t.default=()=>Object(f.jsx)(n.Fragment,{children:Object(f.jsx)(k,{className:"hospital-edit-user-form",children:Object(f.jsx)(s.k,{title:"Edit User Details",children:Object(f.jsx)(y,{})})})})}}]);