(this.webpackJsonpBinPack=this.webpackJsonpBinPack||[]).push([[43],{339:function(e,t,a){"use strict";var s=a(260);t.a=s.a},340:function(e,t,a){"use strict";var s=a(322);t.a=s.a},342:function(e,t,a){"use strict";var s=a(1);const r=s.createContext(void 0);t.a=r},355:function(e,t,a){"use strict";var s=a(4),r=a(3),n=a(1),o=a(7),c=a(95),i=a(21),l=a(343),u=a(10),d=a(68),j=a(2),m=Object(d.a)(Object(j.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),b=Object(d.a)(Object(j.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),h=a(5),p=a(80);const O=Object(h.a)("span",{shouldForwardProp:p.a})({position:"relative",display:"flex"}),v=Object(h.a)(m)({transform:"scale(1)"}),f=Object(h.a)(b)((e=>{let{theme:t,ownerState:a}=e;return Object(r.a)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},a.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));var g=function(e){const{checked:t=!1,classes:a={},fontSize:s}=e,n=Object(r.a)({},e,{checked:t});return Object(j.jsxs)(O,{className:a.root,ownerState:n,children:[Object(j.jsx)(v,{fontSize:s,className:a.background,ownerState:n}),Object(j.jsx)(f,{fontSize:s,className:a.dot,ownerState:n})]})},x=a(8),S=a(340),C=a(342);var y=a(67),k=a(59);function w(e){return Object(k.a)("MuiRadio",e)}var z=Object(y.a)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]);const R=["checked","checkedIcon","color","icon","name","onChange","size","className"],N=Object(h.a)(l.a,{shouldForwardProp:e=>Object(p.a)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,"medium"!==a.size&&t["size".concat(Object(x.a)(a.size))],t["color".concat(Object(x.a)(a.color))]]}})((e=>{let{theme:t,ownerState:a}=e;return Object(r.a)({color:(t.vars||t).palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===a.color?t.vars.palette.action.activeChannel:t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(i.alpha)("default"===a.color?t.palette.action.active:t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&{["&.".concat(z.checked)]:{color:(t.vars||t).palette[a.color].main}},{["&.".concat(z.disabled)]:{color:(t.vars||t).palette.action.disabled}})}));const q=Object(j.jsx)(g,{checked:!0}),M=Object(j.jsx)(g,{}),I=n.forwardRef((function(e,t){var a,i;const l=Object(u.a)({props:e,name:"MuiRadio"}),{checked:d,checkedIcon:m=q,color:b="primary",icon:h=M,name:p,onChange:O,size:v="medium",className:f}=l,g=Object(s.a)(l,R),y=Object(r.a)({},l,{color:b,size:v}),k=(e=>{const{classes:t,color:a,size:s}=e,n={root:["root","color".concat(Object(x.a)(a)),"medium"!==s&&"size".concat(Object(x.a)(s))]};return Object(r.a)({},t,Object(c.a)(n,w,t))})(y),z=n.useContext(C.a);let I=d;const E=Object(S.a)(O,z&&z.onChange);let P=p;var _,A;return z&&("undefined"===typeof I&&(_=z.value,I="object"===typeof(A=l.value)&&null!==A?_===A:String(_)===String(A)),"undefined"===typeof P&&(P=z.name)),Object(j.jsx)(N,Object(r.a)({type:"radio",icon:n.cloneElement(h,{fontSize:null!=(a=M.props.fontSize)?a:v}),checkedIcon:n.cloneElement(m,{fontSize:null!=(i=q.props.fontSize)?i:v}),ownerState:y,classes:k,name:P,checked:I,onChange:E,ref:t,className:Object(o.a)(k.root,f)},g))}));t.a=I},361:function(e,t,a){"use strict";var s=a(3),r=a(4),n=a(1),o=a(7),c=a(95),i=a(717),l=a(67),u=a(59);function d(e){return Object(u.a)("MuiRadioGroup",e)}Object(l.a)("MuiRadioGroup",["root","row","error"]);var j=a(26),m=a(114),b=a(342),h=a(339),p=a(2);const O=["actions","children","className","defaultValue","name","onChange","value"],v=n.forwardRef((function(e,t){const{actions:a,children:l,className:u,defaultValue:v,name:f,onChange:g,value:x}=e,S=Object(r.a)(e,O),C=n.useRef(null),y=(e=>{const{classes:t,row:a,error:s}=e,r={root:["root",a&&"row",s&&"error"]};return Object(c.a)(r,d,t)})(e),[k,w]=Object(m.a)({controlled:x,default:v,name:"RadioGroup"});n.useImperativeHandle(a,(()=>({focus:()=>{let e=C.current.querySelector("input:not(:disabled):checked");e||(e=C.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const z=Object(j.a)(t,C),R=Object(h.a)(f),N=n.useMemo((()=>({name:R,onChange(e){w(e.target.value),g&&g(e,e.target.value)},value:k})),[R,g,w,k]);return Object(p.jsx)(b.a.Provider,{value:N,children:Object(p.jsx)(i.a,Object(s.a)({role:"radiogroup",ref:z,className:Object(o.a)(y.root,u)},S,{children:l}))})}));t.a=v},752:function(e,t,a){"use strict";a.r(t);var s=a(5),r=a(1),n=a(70),o=a(697),c=a(331),i=a(272),l=a(269),u=a(361),d=a(718),j=a(355),m=a(265),b=a(194),h=a(40),p=a(344),O=a(69),v=a(319),f=a(133),g=a(9),x=a(2);const S=Object(s.a)(o.a)((()=>({}))),C=Object(s.a)(p.TextValidator)((()=>({width:"100%",marginBottom:"16px"})));var y=()=>{const e=Object(g.m)(),[t,a]=Object(r.useState)({date:new Date}),[s,n]=Object(r.useState)(!1),[o,y]=Object(r.useState)([e.state.user.company]),[k,w]=Object(r.useState)(),z=s&&0===o.length,R=Object(g.o)();Object(r.useEffect)((()=>{let e=!0;if(z)return(async()=>{const t=await O.a.get("/hospital",{headers:{"Content-Type":"application/json"}}),{hospitals:a}=t.data;e&&y(a)})(),()=>{e=!1}}),[z,o]),Object(r.useEffect)((()=>{s||y([])}),[s]);const N=e=>{e.persist(),a({...t,[e.target.name]:e.target.value})},{username:q=e.state.user.name,mobile:M=e.state.user.phone,surname:I=e.state.user.surname,email:E=e.state.user.email,role:P=e.state.user.role,isActive:_}=t;return Object(x.jsx)("div",{children:Object(x.jsxs)(p.ValidatorForm,{onSubmit:async t=>{var a=e.state.user.is_active;t.target.userstatus.value&&(a=t.target.userstatus.value);var s="",r="";void 0===k?(s=e.state.user.company_id,r=e.state.user.company):(s=k.hospital_id,r=k.name);try{const o=window.localStorage.getItem("accessToken");var n="/users/"+e.state.user._id;const c=await O.a.patch(n,{name:t.target.username.value,surname:t.target.surname.value,role:t.target.role.value,company:r,company_id:s,is_active:a,phone:t.target.mobile.value,email:t.target.email.value,updated_at:new Date,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}}),{status:i}=c.data;"success"===i&&R("/service_provider/user")}catch(o){}},onError:()=>null,children:[Object(x.jsxs)(c.a,{container:!0,spacing:6,children:[Object(x.jsxs)(c.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(x.jsx)(C,{type:"text",name:"username",label:"Name",onChange:N,value:q||"",validators:["required","minStringLength:1","maxStringLength: 100"],errorMessages:["this field is required","this field requires 100 characters","this field requires 100 characters"]}),Object(x.jsx)(C,{type:"email",name:"email",label:"Email",value:E||"",onChange:N,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]}),Object(x.jsx)(S,{open:s,options:o,loading:z,onChange:(e,t)=>{w(t)},id:"Hospital",onOpen:()=>n(!0),onClose:()=>n(!1),getOptionLabel:e=>e.name,isOptionEqualToValue:(e,t)=>e.name===t.name,renderInput:t=>Object(x.jsx)(C,{...t,fullWidth:!0,variant:"outlined",label:e.state.user.company,InputProps:{...t.InputProps,endAdornment:Object(x.jsxs)(r.Fragment,{children:[z?Object(x.jsx)(i.a,{color:"inherit",size:20}):null,t.InputProps.endAdornment]})}})}),Object(x.jsx)(f.a,{children:Object(x.jsxs)(l.a,{component:"fieldset",className:"formControl",children:[Object(x.jsxs)(v.a,{component:"legend",children:["Would you like this user to be active: ",e.state.user.is_active.toString()]}),Object(x.jsxs)(u.a,{value:_,name:"userstatus",className:"userstatus","aria-label":"User Status",onChange:N,children:[Object(x.jsx)(d.a,{value:!0,control:Object(x.jsx)(j.a,{}),label:"Active"}),Object(x.jsx)(d.a,{value:!1,control:Object(x.jsx)(j.a,{}),label:"None Active"})]})]})})]}),Object(x.jsxs)(c.a,{item:!0,lg:6,md:6,sm:12,xs:12,sx:{mt:2},children:[Object(x.jsx)(C,{type:"text",name:"surname",label:"Surname",onChange:N,value:I||"",validators:["required","minStringLength:1","maxStringLength: 100"],errorMessages:["this field is required","this field requires 100 characters","this field requires 100 characters"]}),Object(x.jsx)(C,{type:"text",name:"mobile",value:M||"",label:"Mobile Number",onChange:N,validators:["required"],errorMessages:["this field is required"]}),Object(x.jsx)(f.a,{children:Object(x.jsxs)(l.a,{component:"fieldset",className:"formControl",children:[Object(x.jsx)(v.a,{component:"legend",children:"Role"}),Object(x.jsxs)(u.a,{value:P,name:"role",className:"Role","aria-label":"Role",onChange:N,children:[Object(x.jsx)(d.a,{value:"hospitals admin",control:Object(x.jsx)(j.a,{}),label:"Hospital Admin"}),Object(x.jsx)(d.a,{value:"hospitals staff",control:Object(x.jsx)(j.a,{}),label:"Hospital Staff"})]})]})})]})]}),Object(x.jsxs)(m.a,{color:"primary",variant:"contained",type:"submit",children:[Object(x.jsx)(b.a,{children:"send"}),Object(x.jsx)(h.i,{sx:{pl:1,textTransform:"capitalize"},children:"Submit"})]})]})})};const k=Object(s.a)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}}));t.default=()=>Object(x.jsx)(r.Fragment,{children:Object(x.jsx)(k,{className:"hospital-edit-user-form",children:Object(x.jsx)(n.k,{title:"Edit User Details",children:Object(x.jsx)(y,{})})})})}}]);