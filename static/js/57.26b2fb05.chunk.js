(this.webpackJsonpBinPack=this.webpackJsonpBinPack||[]).push([[57],{710:function(e,t,a){"use strict";a.r(t);var r=a(33),s=a(46),o=a(13),c=a(7),n=a(5),i=a(300),l=a(252),b=a(1),p=a(65),d=a(120),h=a(15),x=a(59),j=a(340),u=a(2),m=function(e){var t=e.height,a=e.colors,r=void 0===a?[]:a,s=e.Series,o=e.dateBarDataset,c=Object(x.a)().palette,n={grid:{left:"6%",bottom:"10%",right:"1%"},color:Object(h.a)(r),barMaxWidth:"10px",tooltip:{show:!0,trigger:"item"},xAxis:{type:"category",data:o,axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{color:c.text.secondary,fontSize:13,fontFamily:"roboto"}},yAxis:{axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:c.text.secondary,opacity:.15}},axisLabel:{color:c.text.secondary,fontSize:13,fontFamily:"roboto"}},series:[{name:"Covid",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].covid_waste},{name:"General",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].general_waste},{name:"Hazardous",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].hazardous_waste},{name:"Metal",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].metal_waste},{name:"Paper",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].paper_waste},{name:"Plastic",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].plastic_waste},{name:"Refuse",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].refuse_waste},{name:"Healthcare",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].healthcare_waste},{name:"Other",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].other}]};return Object(u.jsx)(j.a,{style:{height:t},option:n})},O=a(11),w=function(e){var t=e.height,a=e.color,r=void 0===a?[]:a,s=e.pieDataset,o=e.tooltip,c=e.formatter,n={tooltip:{show:!0,trigger:"item",formatter:o},xAxis:[{axisLine:{show:!1},splitLine:{show:!1}}],yAxis:[{axisLine:{show:!1},splitLine:{show:!1}}],series:[{name:"Waste Category",type:"pie",radius:["45%","72.55%"],center:["50%","50%"],avoidLabelOverlap:!1,hoverOffset:5,stillShowZeroSum:!1,label:{normal:{show:!1,position:"center",textStyle:{color:Object(x.a)().palette.text.secondary,fontSize:13,fontFamily:"roboto"},formatter:"{a}"},emphasis:{show:!0,textStyle:{fontSize:"14",fontWeight:"bold"},formatter:c}},labelLine:{normal:{show:!1}},data:s,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};return Object(u.jsx)(j.a,{style:{height:t},option:Object(O.a)(Object(O.a)({},n),{},{color:Object(h.a)(r)})})},g=a(362),y=a(171),f=a(363),S=a(364),v=a(365),_=a(366),W=a(174),k=Object(n.a)(g.a)((function(){return{minWidth:400,whiteSpace:"pre","& small":{width:50,height:15,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"}}})),P=function(e){var t=e.tableDataset;return console.log(t),Object(u.jsx)(l.a,{elevation:3,sx:{pt:"20px",mb:3},children:Object(u.jsx)(y.a,{overflow:"auto",children:Object(u.jsxs)(k,{children:[Object(u.jsx)(f.a,{children:Object(u.jsxs)(S.a,{children:[Object(u.jsx)(v.a,{sx:{px:0},colSpan:0}),Object(u.jsx)(v.a,{sx:{px:0},colSpan:3,children:"Waste Category"}),Object(u.jsx)(v.a,{sx:{px:0},colSpan:2,children:"Weekly"}),Object(u.jsx)(v.a,{sx:{px:0},colSpan:2,children:"Monthly"})]})}),Object(u.jsx)(_.a,{children:t.map((function(e,t){return Object(u.jsxs)(S.a,{hover:!0,children:[Object(u.jsx)(v.a,{colSpan:0,align:"center",sx:{px:0,textTransform:"capitalize"},children:Object(u.jsx)(W.a,{className:"icon",style:{color:"".concat(e[0].color)},children:"brightness_1"})}),Object(u.jsx)(v.a,{colSpan:3,align:"left",sx:{px:0,textTransform:"capitalize"},children:e[0].category}),Object(u.jsx)(v.a,{align:"center",colSpan:2,sx:{px:0,textTransform:"capitalize"},children:e[0].wastePerWeek}),Object(u.jsx)(v.a,{align:"center",colSpan:2,sx:{px:0,textTransform:"capitalize"},children:e[0].wastePerMonth})]},t)}))})]})})})},F=Object(n.a)("div")((function(e){var t=e.theme;return Object(c.a)({margin:"30px"},t.breakpoints.down("sm"),{margin:"16px"})})),z=Object(n.a)("span")((function(){return{fontSize:"1rem",fontWeight:"500",marginRight:".5rem",textTransform:"capitalize"}})),C=Object(n.a)("span")((function(e){return{fontSize:"0.875rem",color:e.theme.palette.text.secondary}})),M=[[{color:"#C0C0C0",category:"Covid Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#808000",category:"General Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#008000",category:"Hazardous Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#00FFFF",category:"Metal Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#008080",category:"Paper Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#0000FF",category:"Plastic Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#000080",category:"Refuse Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#FF00FF",category:"Healthcare Risk Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#800080",category:"Other",wastePerWeek:"0",wastePerMonth:"0"}]];t.default=function(){var e=Object(b.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(b.useState)([]),h=Object(o.a)(n,2),x=h[0],j=h[1],O=Object(b.useState)([]),g=Object(o.a)(O,2),y=g[0],f=g[1],S=Object(b.useState)([M]),v=Object(o.a)(S,2),_=v[0],W=v[1],k=Object(b.useState)([M]),R=Object(o.a)(k,2),L=R[0],T=R[1],B=Object(b.useState)([{covid_waste:[0],general_waste:[0],hazardous_waste:[0],metal_waste:[0],paper_waste:[0],plastic_waste:[0],refuse_waste:[0],healthcare_waste:[0],other:[0]}]),D=Object(o.a)(B,2),q=D[0],A=D[1],H=Object(b.useState)([{covid_waste:[0],general_waste:[0],hazardous_waste:[0],metal_waste:[0],paper_waste:[0],plastic_waste:[0],refuse_waste:[0],healthcare_waste:[0],other:[0]}]),G=Object(o.a)(H,2),J=G[0],N=G[1];Object(b.useEffect)((function(){var e=window.localStorage.getItem("accessToken"),t=function(){var t=Object(s.a)(Object(r.a)().mark((function t(){var a,s,o,n,i,l;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/dashboards/req-waste-category-bar",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});case 3:a=t.sent,s=a.data,o=s.status,n=s.Requisitions,i=s.Mass,l=s.date_data,console.log(n[0]),"success"===o&&(c(l),A(n),N(i)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("error: "+t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(s.a)(Object(r.a)().mark((function t(){var a,s,o,c,n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/dashboards/req-waste-category-pie",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});case 3:a=t.sent,s=a.data,o=s.status,c=s.pie_req_data,n=s.pie_mass_data,"success"===o&&(j(c),f(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error: "+t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(s.a)(Object(r.a)().mark((function t(){var a,s,o,c,n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/dashboards/req-waste-category-table",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});case 3:a=t.sent,s=a.data,o=s.status,c=s.total_req_waste,n=s.total_mass_waste,"success"===o&&(W(c),T(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error: "+t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t(),a(),o()}),[]);var E="#800080",I="#FF00FF",X="#000080",Z="#0000FF",K="#008080",Q="#00FFFF",U="#008000",V="#808000",Y="#C0C0C0";return Object(u.jsx)(b.Fragment,{children:Object(u.jsxs)(F,{className:"admin-analytics",children:[Object(u.jsxs)(d.a,{title:"Waste Categories: Requisitions",sx:{mb:"24px"},children:[Object(u.jsx)(d.a,{sx:{mb:"24px"},children:Object(u.jsx)(m,{height:"450px",colors:[Y,V,U,Q,K,X,I,Z,E],Series:q,dateBarDataset:a})}),Object(u.jsxs)(i.a,{container:!0,spacing:3,children:[Object(u.jsx)(i.a,{item:!0,lg:6,md:8,sm:12,xs:12,children:Object(u.jsx)(d.a,{sx:{mb:"24px"},children:Object(u.jsx)(P,{tableDataset:_})})}),Object(u.jsx)(i.a,{item:!0,lg:6,md:8,sm:12,xs:12,children:Object(u.jsx)(d.a,{sx:{mb:"24px"},children:Object(u.jsxs)(l.a,{sx:{px:3,py:2,mb:3},children:[Object(u.jsx)(z,{children:"Waste Category"}),Object(u.jsx)(C,{children:"Last 30 days"}),Object(u.jsx)(w,{height:"490px",color:[Y,V,U,Q,K,X,I,Z,E],pieDataset:x,tooltip:"{a} <br/>{b}: {c} ({d}%)",formatter:"{b}: {c} ({d}%)"})]})})})]})]}),Object(u.jsxs)(d.a,{title:"Waste Categories: Mass",sx:{mb:"24px"},children:[Object(u.jsx)(d.a,{sx:{mb:"24px"},children:Object(u.jsx)(m,{height:"450px",colors:[Y,V,U,Q,K,X,I,Z,E],Series:J,dateBarDataset:a})}),Object(u.jsxs)(i.a,{container:!0,spacing:3,children:[Object(u.jsx)(i.a,{item:!0,lg:6,md:8,sm:12,xs:12,children:Object(u.jsx)(d.a,{sx:{mb:"24px"},children:Object(u.jsx)(P,{tableDataset:L})})}),Object(u.jsx)(i.a,{item:!0,lg:6,md:8,sm:12,xs:12,children:Object(u.jsx)(d.a,{sx:{mb:"24px"},children:Object(u.jsxs)(l.a,{sx:{px:3,py:2,mb:3},children:[Object(u.jsx)(z,{children:"Waste Category"}),Object(u.jsx)(C,{children:"Last 30 days"}),Object(u.jsx)(w,{height:"490px",color:[Y,V,U,Q,K,X,I,Z,E],pieDataset:y,tooltip:"{a} <br/>{b}: {c}kg ({d}%)",formatter:"{b}: {c}kg ({d}%)"})]})})})]})]})]})})}}}]);