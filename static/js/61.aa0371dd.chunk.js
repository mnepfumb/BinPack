(this.webpackJsonpBinPack=this.webpackJsonpBinPack||[]).push([[61],{710:function(e,t,a){"use strict";a.r(t);var r=a(63),s=a(93),o=a(12),c=a(7),n=a(5),i=a(300),l=a(252),b=a(1),h=a(64),p=a(120),d=a(14),x=a(57),j=a(329),u=a(2),m=function(e){var t=e.height,a=e.colors,r=void 0===a?[]:a,s=e.Series,o=e.dateBarDataset,c=Object(x.a)().palette,n={grid:{left:"6%",bottom:"10%",right:"1%"},color:Object(d.a)(r),barMaxWidth:"10px",tooltip:{show:!0,trigger:"item"},xAxis:{type:"category",data:o,axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{color:c.text.secondary,fontSize:13,fontFamily:"roboto"}},yAxis:{axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:c.text.secondary,opacity:.15}},axisLabel:{color:c.text.secondary,fontSize:13,fontFamily:"roboto"}},series:[{name:"Covid",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].covid_waste},{name:"General",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].general_waste},{name:"Hazardous",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].hazardous_waste},{name:"Metal",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].metal_waste},{name:"Paper",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].paper_waste},{name:"Plastic",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].plastic_waste},{name:"Refuse",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].refuse_waste},{name:"Healthcare",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].healthcare_waste},{name:"Other",type:"bar",itemStyle:{borderRadius:[10,10,0,0]},data:s[0].other}]};return Object(u.jsx)(j.a,{style:{height:t},option:n})},O=a(16),w=function(e){var t=e.height,a=e.color,r=void 0===a?[]:a,s=e.pieDataset,o=e.tooltip,c=e.formatter,n={tooltip:{show:!0,trigger:"item",formatter:o},xAxis:[{axisLine:{show:!1},splitLine:{show:!1}}],yAxis:[{axisLine:{show:!1},splitLine:{show:!1}}],series:[{name:"Waste Category",type:"pie",radius:["45%","72.55%"],center:["50%","50%"],avoidLabelOverlap:!1,hoverOffset:5,stillShowZeroSum:!1,label:{normal:{show:!1,position:"center",textStyle:{color:Object(x.a)().palette.text.secondary,fontSize:13,fontFamily:"roboto"},formatter:"{a}"},emphasis:{show:!0,textStyle:{fontSize:"14",fontWeight:"bold"},formatter:c}},labelLine:{normal:{show:!1}},data:s,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};return Object(u.jsx)(j.a,{style:{height:t},option:Object(O.a)(Object(O.a)({},n),{},{color:Object(d.a)(r)})})},g=a(368),y=a(171),f=a(369),v=a(370),S=a(371),W=a(372),k=a(174),_=Object(n.a)(g.a)((function(){return{minWidth:400,whiteSpace:"pre","& small":{width:50,height:15,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"}}})),P=function(e){var t=e.tableDataset;return console.log(t),Object(u.jsx)(l.a,{elevation:3,sx:{pt:"20px",mb:3},children:Object(u.jsx)(y.a,{overflow:"auto",children:Object(u.jsxs)(_,{children:[Object(u.jsx)(f.a,{children:Object(u.jsxs)(v.a,{children:[Object(u.jsx)(S.a,{sx:{px:0},colSpan:0}),Object(u.jsx)(S.a,{sx:{px:0},colSpan:3,children:"Waste Category"}),Object(u.jsx)(S.a,{sx:{px:0},colSpan:2,children:"Weekly"}),Object(u.jsx)(S.a,{sx:{px:0},colSpan:2,children:"Monthly"})]})}),Object(u.jsx)(W.a,{children:t.map((function(e,t){return Object(u.jsxs)(v.a,{hover:!0,children:[Object(u.jsx)(S.a,{colSpan:0,align:"center",sx:{px:0,textTransform:"capitalize"},children:Object(u.jsx)(k.a,{className:"icon",style:{color:"".concat(e[0].color)},children:"brightness_1"})}),Object(u.jsx)(S.a,{colSpan:3,align:"left",sx:{px:0,textTransform:"capitalize"},children:e[0].category}),Object(u.jsx)(S.a,{align:"center",colSpan:2,sx:{px:0,textTransform:"capitalize"},children:e[0].wastePerWeek}),Object(u.jsx)(S.a,{align:"center",colSpan:2,sx:{px:0,textTransform:"capitalize"},children:e[0].wastePerMonth})]},t)}))})]})})})},F=Object(n.a)("div")((function(e){var t=e.theme;return Object(c.a)({margin:"30px"},t.breakpoints.down("sm"),{margin:"16px"})})),z=Object(n.a)("span")((function(){return{fontSize:"1rem",fontWeight:"500",marginRight:".5rem",textTransform:"capitalize"}})),C=Object(n.a)("span")((function(e){return{fontSize:"0.875rem",color:e.theme.palette.text.secondary}})),R=[[{color:"#C0C0C0",category:"Covid Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#808000",category:"General Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#008000",category:"Hazardous Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#00FFFF",category:"Metal Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#008080",category:"Paper Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#0000FF",category:"Plastic Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#000080",category:"Refuse Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#FF00FF",category:"Healthcare Risk Waste",wastePerWeek:"0",wastePerMonth:"0"}],[{color:"#800080",category:"Other",wastePerWeek:"0",wastePerMonth:"0"}]],M=[{value:10,name:"Covid Waste"},{value:14,name:"General Waste"},{value:10,name:"Hazardous Waste"},{value:30,name:"Metal Waste"},{value:5,name:"Paper Waste"},{value:90,name:"Plastic Waste"},{value:8,name:"Refuse Waste"},{value:20,name:"Healthcare Risk Waste"},{value:21,name:"Other"}];t.default=function(){var e=Object(b.useState)([]),t=Object(o.a)(e,1)[0],a=Object(b.useState)(M),c=Object(o.a)(a,1)[0],n=Object(b.useState)(M),d=Object(o.a)(n,1)[0],x=Object(b.useState)([R]),j=Object(o.a)(x,2),O=j[0],g=j[1],y=Object(b.useState)([R]),f=Object(o.a)(y,2),v=f[0],S=f[1],W=Object(b.useState)([{covid_waste:[10],general_waste:[50],hazardous_waste:[0],metal_waste:[9],paper_waste:[50],plastic_waste:[10],refuse_waste:[60],healthcare_waste:[110],other:[230]}]),k=Object(o.a)(W,1)[0],_=Object(b.useState)([{covid_waste:[10],general_waste:[50],hazardous_waste:[0],metal_waste:[9],paper_waste:[50],plastic_waste:[10],refuse_waste:[60],healthcare_waste:[110],other:[230]}]),L=Object(o.a)(_,1)[0];Object(b.useEffect)((function(){var e=window.localStorage.getItem("accessToken"),t=function(){var t=Object(s.a)(Object(r.a)().mark((function t(){var a,s,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("/dashboards/req-waste-category-bar",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});case 3:a=t.sent,s=a.data,s.status,o=s.Requisitions,console.log(o[0]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("error: "+t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(s.a)(Object(r.a)().mark((function t(){var a;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("/dashboards/req-waste-category-pie",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});case 3:a=t.sent,a.data.status,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error: "+t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(s.a)(Object(r.a)().mark((function t(){var a,s,o,c,n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.get("/dashboards/req-waste-category-table",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});case 3:a=t.sent,s=a.data,o=s.status,c=s.total_req_waste,n=s.total_mass_waste,"success"===o&&(g(c),S(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error: "+t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t(),a(),o()}),[]);var T="#800080",B="#FF00FF",D="#000080",A="#0000FF",q="#008080",H="#00FFFF",G="#008000",J="#808000",N="#C0C0C0";return Object(u.jsx)(b.Fragment,{children:Object(u.jsxs)(F,{className:"admin-analytics",children:[Object(u.jsxs)(p.a,{title:"Waste Categories: Requisitions",sx:{mb:"24px"},children:[Object(u.jsx)(p.a,{sx:{mb:"24px"},children:Object(u.jsx)(m,{height:"450px",colors:[N,J,G,H,q,D,B,A,T],Series:k,dateBarDataset:t})}),Object(u.jsxs)(i.a,{container:!0,spacing:3,children:[Object(u.jsx)(i.a,{item:!0,lg:6,md:8,sm:12,xs:12,children:Object(u.jsx)(p.a,{sx:{mb:"24px"},children:Object(u.jsx)(P,{tableDataset:O})})}),Object(u.jsx)(i.a,{item:!0,lg:6,md:8,sm:12,xs:12,children:Object(u.jsx)(p.a,{sx:{mb:"24px"},children:Object(u.jsxs)(l.a,{sx:{px:3,py:2,mb:3},children:[Object(u.jsx)(z,{children:"Waste Category"}),Object(u.jsx)(C,{children:"Last 30 days"}),Object(u.jsx)(w,{height:"490px",color:[N,J,G,H,q,D,B,A,T],pieDataset:c,tooltip:"{a} <br/>{b}: {c} ({d}%)",formatter:"{b}: {c} ({d}%)"})]})})})]})]}),Object(u.jsxs)(p.a,{title:"Waste Categories: Mass",sx:{mb:"24px"},children:[Object(u.jsx)(p.a,{sx:{mb:"24px"},children:Object(u.jsx)(m,{height:"450px",colors:[N,J,G,H,q,D,B,A,T],Series:L,dateBarDataset:t})}),Object(u.jsxs)(i.a,{container:!0,spacing:3,children:[Object(u.jsx)(i.a,{item:!0,lg:6,md:8,sm:12,xs:12,children:Object(u.jsx)(p.a,{sx:{mb:"24px"},children:Object(u.jsx)(P,{tableDataset:v})})}),Object(u.jsx)(i.a,{item:!0,lg:6,md:8,sm:12,xs:12,children:Object(u.jsx)(p.a,{sx:{mb:"24px"},children:Object(u.jsxs)(l.a,{sx:{px:3,py:2,mb:3},children:[Object(u.jsx)(z,{children:"Waste Category"}),Object(u.jsx)(C,{children:"Last 30 days"}),Object(u.jsx)(w,{height:"490px",color:[N,J,G,H,q,D,B,A,T],pieDataset:d,tooltip:"{a} <br/>{b}: {c}kg ({d}%)",formatter:"{b}: {c}kg ({d}%)"})]})})})]})]})]})})}}}]);