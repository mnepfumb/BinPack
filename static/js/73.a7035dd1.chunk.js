(this.webpackJsonpBinPack=this.webpackJsonpBinPack||[]).push([[73],{706:function(e,t,a){"use strict";a.r(t);var c=a(5),n=a(331),i=a(1),s=a.n(i),r=a(196),l=a(356),o=a(194),d=a(273),j=a(369),x=a(357),p=a(358),b=a(359),h=a(360),O=a(333),u=a(9),m=a(36),f=a(265),g=a(336),y=a(629),S=a(628),w=a(630),v=a(511),k=a(412),T=a(69),C=a(2);const _=s.a.forwardRef((function(e,t){return Object(C.jsx)(k.a,{direction:"up",ref:t,...e})}));function z(e){let{user:t}=e;const[a,c]=s.a.useState(!1);function n(){c(!1)}return Object(C.jsxs)("div",{children:[Object(C.jsx)(o.a,{style:{color:"#FF3D57"},onClick:function(){c(!0)},children:"do_not_disturb_on"}),Object(C.jsxs)(g.a,{open:a,keepMounted:!0,onClose:n,TransitionComponent:_,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(C.jsx)(v.a,{id:"alert-dialog-slide-title",children:"User Deactivation"}),Object(C.jsx)(S.a,{children:Object(C.jsx)(w.a,{id:"alert-dialog-slide-description",children:"The current user will be deactivated. They will not be able to gain access to the system."})}),Object(C.jsxs)(y.a,{children:[Object(C.jsx)(f.a,{onClick:n,color:"primary",children:"Back"}),Object(C.jsx)(f.a,{onClick:async e=>{try{const e=window.localStorage.getItem("accessToken");var a="/users/"+t._id;const n=await T.a.patch(a,{is_active:!1,updated_at:new Date,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}),{status:i}=n.data;"success"===i&&c(!1)}catch(n){}},color:"primary",children:"Deactivate"})]})]})]})}const D=s.a.forwardRef((function(e,t){return Object(C.jsx)(k.a,{direction:"up",ref:t,...e})}));function B(e){let{user:t}=e;const[a,c]=s.a.useState(!1);function n(){c(!1)}return Object(C.jsxs)("div",{children:[Object(C.jsx)(o.a,{style:{color:"#08ad6c"},onClick:function(){c(!0)},children:"do_not_disturb_on"}),Object(C.jsxs)(g.a,{open:a,keepMounted:!0,onClose:n,TransitionComponent:D,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(C.jsx)(v.a,{id:"alert-dialog-slide-title",children:"User Deactivation"}),Object(C.jsx)(S.a,{children:Object(C.jsx)(w.a,{id:"alert-dialog-slide-description",children:"The current user will be deactivated. They will not be able to gain access to the system."})}),Object(C.jsxs)(y.a,{children:[Object(C.jsx)(f.a,{onClick:n,color:"primary",children:"Back"}),Object(C.jsx)(f.a,{onClick:async e=>{try{const e=window.localStorage.getItem("accessToken");var a="/users/"+t._id;const n=await T.a.patch(a,{is_active:!0,updated_at:new Date,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}),{status:i}=n.data;"success"===i&&c(!1)}catch(n){}},color:"primary",children:"Deactivate"})]})]})]})}var A=a(133),F=a(419);const N=Object(c.a)(r.a)((()=>({display:"flex",paddingLeft:"24px",paddingRight:"24px",marginBottom:"12px",alignItems:"center",justifyContent:"space-between"}))),R=Object(c.a)("span")((()=>({fontSize:"1rem",fontWeight:"500",textTransform:"capitalize"}))),I=Object(c.a)(l.a)((()=>({minWidth:400,whiteSpace:"pre","& small":{width:50,height:15,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"}})));var L=()=>{const[e,t]=Object(i.useState)([]),a=Object(u.o)();Object(i.useEffect)((()=>{(async()=>{try{const e=window.localStorage.getItem("accessToken"),a=await T.a.get("/users",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}),{status:c,users:n}=a.data;"success"===c&&t(n)}catch(e){}})()}),[]);const c=(e,t)=>e?Object(C.jsx)(z,{user:t}):Object(C.jsx)(B,{user:t});return Object(C.jsx)(d.a,{elevation:3,sx:{pt:"20px",mb:3},children:Object(C.jsxs)(A.a,{children:[Object(C.jsxs)(N,{children:[Object(C.jsx)(R,{children:"Hospitals' User List"}),Object(C.jsx)(j.a,{color:"primary","aria-label":"Add",className:"button",onClick:()=>a("/netcare/admin/user-add-form"),children:Object(C.jsx)(o.a,{children:"add"})})]}),Object(C.jsx)(r.a,{overflow:"auto",children:Object(C.jsxs)(I,{children:[Object(C.jsx)(x.a,{children:Object(C.jsxs)(p.a,{children:[Object(C.jsx)(b.a,{sx:{px:4},colSpan:4,children:"Name"}),Object(C.jsx)(b.a,{sx:{px:4},colSpan:4,children:"Surname"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Phone Number"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Email"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Role"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Company"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Active Status"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Created Date"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Action"})]})}),Object(C.jsx)(h.a,{children:e.map(((e,t)=>{return Object(C.jsxs)(p.a,{hover:!0,children:[Object(C.jsx)(b.a,{colSpan:4,align:"left",sx:{px:0,textTransform:"capitalize"},children:e.name}),Object(C.jsx)(b.a,{align:"left",colSpan:4,sx:{px:0,textTransform:"capitalize"},children:e.surname}),Object(C.jsx)(b.a,{align:"left",colSpan:4,sx:{px:0,textTransform:"capitalize"},children:e.phone}),Object(C.jsx)(b.a,{align:"left",colSpan:4,sx:{px:0},children:e.email}),Object(C.jsx)(b.a,{sx:{px:0,textTransform:"capitalize"},align:"left",colSpan:4,children:e.role}),Object(C.jsx)(b.a,{align:"left",colSpan:4,sx:{px:0,textTransform:"capitalize"},children:e.company}),Object(C.jsx)(b.a,{align:"left",colSpan:4,sx:{px:0,textTransform:"capitalize"},children:(a=e.is_active,a?Object(C.jsx)(o.a,{className:"icon",style:{color:"#08ad6c",size:42},children:"check"}):Object(C.jsx)(o.a,{className:"icon",style:{color:"#FF3D57",size:42},children:"clear"}))}),Object(C.jsx)(b.a,{align:"left",colSpan:4,sx:{px:0,textTransform:"capitalize"},children:Object(C.jsx)(F.a,{dateFormat:"YMD",dateSeparator:"/",timeSeparator:":",children:e.updated_at})}),Object(C.jsxs)(b.a,{sx:{px:0},colSpan:4,children:[Object(C.jsx)(O.a,{children:Object(C.jsx)(o.a,{color:"primary",state:{user:e},component:m.b,to:{pathname:"/netcare/admin/user-edit-form",state:e},children:"edit"})}),Object(C.jsx)(O.a,{children:c(e.is_active,e)})]})]},t);var a}))})]})})]})})};const M=Object(c.a)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}}));t.default=()=>Object(C.jsx)(i.Fragment,{children:Object(C.jsx)(M,{className:"user",children:Object(C.jsx)(n.a,{container:!0,spacing:3,children:Object(C.jsx)(L,{})})})})}}]);