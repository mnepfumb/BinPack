(this.webpackJsonpBinPack=this.webpackJsonpBinPack||[]).push([[83],{707:function(e,t,a){"use strict";a.r(t);var c=a(5),s=a(331),n=a(1),i=a.n(n),r=a(196),o=a(356),l=a(194),d=a(273),j=a(369),p=a(357),x=a(358),b=a(359),h=a(360),u=a(333),O=a(9),m=a(36),f=a(265),g=a(336),y=a(629),S=a(628),v=a(630),w=a(511),T=a(412),k=a(69),C=a(2);const _=i.a.forwardRef((function(e,t){return Object(C.jsx)(T.a,{direction:"up",ref:t,...e})}));function z(e){let{user:t}=e;const[a,c]=i.a.useState(!1);function s(){c(!1)}return Object(C.jsxs)("div",{children:[Object(C.jsx)(l.a,{style:{color:"#FF3D57"},onClick:function(){c(!0)},children:"do_not_disturb_on"}),Object(C.jsxs)(g.a,{open:a,keepMounted:!0,onClose:s,TransitionComponent:_,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(C.jsx)(w.a,{id:"alert-dialog-slide-title",children:"User Deactivation"}),Object(C.jsx)(S.a,{children:Object(C.jsx)(v.a,{id:"alert-dialog-slide-description",children:"The current user will be deactivated. They will not be able to gain access to the system."})}),Object(C.jsxs)(y.a,{children:[Object(C.jsx)(f.a,{onClick:s,color:"primary",children:"Back"}),Object(C.jsx)(f.a,{onClick:async e=>{try{const e=window.localStorage.getItem("accessToken");var a="/users/"+t._id;const s=await k.a.patch(a,{is_active:!1,updated_at:new Date,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}),{status:n}=s.data;"success"===n&&c(!1)}catch(s){}},color:"primary",children:"Deactivate"})]})]})]})}const B=i.a.forwardRef((function(e,t){return Object(C.jsx)(T.a,{direction:"up",ref:t,...e})}));function D(e){let{user:t}=e;const[a,c]=i.a.useState(!1);function s(){c(!1)}return Object(C.jsxs)("div",{children:[Object(C.jsx)(l.a,{style:{color:"#08ad6c"},onClick:function(){c(!0)},children:"do_not_disturb_on"}),Object(C.jsxs)(g.a,{open:a,keepMounted:!0,onClose:s,TransitionComponent:B,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(C.jsx)(w.a,{id:"alert-dialog-slide-title",children:"User Deactivation"}),Object(C.jsx)(S.a,{children:Object(C.jsx)(v.a,{id:"alert-dialog-slide-description",children:"The current user will be deactivated. They will not be able to gain access to the system."})}),Object(C.jsxs)(y.a,{children:[Object(C.jsx)(f.a,{onClick:s,color:"primary",children:"Back"}),Object(C.jsx)(f.a,{onClick:async e=>{try{const e=window.localStorage.getItem("accessToken");var a="/users/"+t._id;const s=await k.a.patch(a,{is_active:!0,updated_at:new Date,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}),{status:n}=s.data;"success"===n&&c(!1)}catch(s){}},color:"primary",children:"Deactivate"})]})]})]})}var A=a(133),F=a(419),N=a(139);const R=Object(c.a)(r.a)((()=>({display:"flex",paddingLeft:"24px",paddingRight:"24px",marginBottom:"12px",alignItems:"center",justifyContent:"space-between"}))),I=Object(c.a)("span")((()=>({fontSize:"1rem",fontWeight:"500",textTransform:"capitalize"}))),L=Object(c.a)(o.a)((()=>({minWidth:400,whiteSpace:"pre","& small":{width:50,height:15,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"}})));var M=()=>{const[e,t]=Object(n.useState)([]);let{user:a}=Object(N.a)();const c=Object(O.o)();Object(n.useEffect)((()=>{(async()=>{try{const i=window.localStorage.getItem("accessToken");var e="/users/".concat(a.id);const r=await k.a.get(e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)}}),{status:o,users:l}=r.data;if("success"===o){var c=l.company_id;try{var s="/users/userfield?company_id="+c;const e=await k.a.get(s,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)}}),{status:a,users:n}=e.data;"success"===a&&t(n)}catch(n){}}}catch(n){}})()}),[a.id]);const s=(e,t)=>e?Object(C.jsx)(z,{user:t}):Object(C.jsx)(D,{user:t});return Object(C.jsx)(d.a,{elevation:3,sx:{pt:"20px",mb:3},children:Object(C.jsxs)(A.a,{children:[Object(C.jsxs)(R,{children:[Object(C.jsx)(I,{children:"Hospitals' User List"}),Object(C.jsx)(j.a,{color:"primary","aria-label":"Add",className:"button",onClick:()=>c("/netcare/hospital/user-add-form"),children:Object(C.jsx)(l.a,{children:"add"})})]}),Object(C.jsx)(r.a,{overflow:"auto",children:Object(C.jsxs)(L,{children:[Object(C.jsx)(p.a,{children:Object(C.jsxs)(x.a,{children:[Object(C.jsx)(b.a,{sx:{px:4},colSpan:4,children:"Name"}),Object(C.jsx)(b.a,{sx:{px:4},colSpan:4,children:"Surname"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Phone Number"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Email"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Role"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Company"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Active Status"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Created Date"}),Object(C.jsx)(b.a,{sx:{px:0},colSpan:4,children:"Action"})]})}),Object(C.jsx)(h.a,{children:e.map(((e,t)=>{return Object(C.jsxs)(x.a,{hover:!0,children:[Object(C.jsx)(b.a,{colSpan:4,align:"left",sx:{px:0,textTransform:"capitalize"},children:e.name}),Object(C.jsx)(b.a,{align:"left",colSpan:4,sx:{px:0,textTransform:"capitalize"},children:e.surname}),Object(C.jsx)(b.a,{align:"left",colSpan:4,sx:{px:0,textTransform:"capitalize"},children:e.phone}),Object(C.jsx)(b.a,{align:"left",colSpan:4,sx:{px:0,textTransform:"capitalize"},children:e.email}),Object(C.jsx)(b.a,{sx:{px:0},align:"left",colSpan:4,children:e.role}),Object(C.jsx)(b.a,{align:"left",colSpan:4,sx:{px:0,textTransform:"capitalize"},children:e.company}),Object(C.jsx)(b.a,{align:"left",colSpan:4,sx:{px:0,textTransform:"capitalize"},children:(a=e.is_active,a?Object(C.jsx)(l.a,{className:"icon",style:{color:"#08ad6c",size:42},children:"check"}):Object(C.jsx)(l.a,{className:"icon",style:{color:"#FF3D57",size:42},children:"clear"}))}),Object(C.jsx)(b.a,{align:"left",colSpan:4,sx:{px:0,textTransform:"capitalize"},children:Object(C.jsx)(F.a,{dateFormat:"YMD",dateSeparator:"/",timeSeparator:":",children:e.updated_at})}),Object(C.jsxs)(b.a,{sx:{px:0},colSpan:4,children:[Object(C.jsx)(u.a,{children:Object(C.jsx)(l.a,{color:"primary",state:{user:e},component:m.b,to:{pathname:"/netcare/hospital/user-edit-form",state:e},children:"edit"})}),Object(C.jsx)(u.a,{children:s(e.is_active,e)})]})]},t);var a}))})]})})]})})};const P=Object(c.a)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}}));t.default=()=>Object(C.jsx)(n.Fragment,{children:Object(C.jsx)(P,{className:"user",children:Object(C.jsx)(s.a,{container:!0,spacing:3,children:Object(C.jsx)(M,{})})})})}}]);